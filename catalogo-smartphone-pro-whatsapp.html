<!DOCTYPE html>
<html lang='it'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<title>Re Long | Catalogo Pro (Filtri â€¢ Badge â€¢ Dark 3D â€¢ WhatsApp)</title>
<meta name='theme-color' content='#0a0a0a'>
<style>
*{box-sizing:border-box;margin:0;padding:0;-webkit-font-smoothing:antialiased}
:root{
  --bg1:#0a0a0a;--bg2:#000;--card:rgba(25,25,25,.92);--stroke:rgba(255,255,255,.08);
  --wa1:#25D366;--wa2:#128C7E;--muted:rgba(255,255,255,.7);--brand1:#ff0000;--brand2:#ff7b00;
}
@keyframes fadeUp{0%{opacity:0;transform:translateY(14px)}100%{opacity:1;transform:translateY(0)}}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}
@media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}

body{font-family:system-ui,-apple-system,Inter,Roboto,sans-serif;background:radial-gradient(circle at 20% 20%,var(--bg1),var(--bg2));color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;transition:background .3s ease}
.wrap{width:100%;max-width:1240px;display:grid;gap:18px}
.head{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:10px}
.title{font-weight:900;letter-spacing:-.03em;font-size:24px;animation:fadeUp .5s ease both}
.controls{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.btn-filter{padding:10px 14px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.05);color:#fff;font-weight:800;cursor:pointer;transition:transform .15s, box-shadow .2s}
.btn-filter.active{background:linear-gradient(90deg,var(--brand1),var(--brand2));color:#000;border-color:transparent;box-shadow:0 10px 24px rgba(255,90,0,.35)}
.toggle{padding:10px 14px;border-radius:12px;border:1px solid var(--stroke);background:rgba(255,255,255,.06);cursor:pointer}
.grid{display:grid;grid-template-columns:1fr;gap:16px}
@media(min-width:760px){.grid{grid-template-columns:1fr 1fr}}
@media(min-width:1100px){.grid{grid-template-columns:1fr 1fr 1fr 1fr}}
.card{position:relative;background:var(--card);padding:16px;border-radius:18px;border:1px solid var(--stroke);box-shadow:0 28px 60px rgba(0,0,0,.85), 0 0 50px rgba(255,0,0,.12);transform:perspective(800px) rotateX(0) rotateY(0);transition:transform .25s ease, box-shadow .25s ease, background .3s;animation:fadeUp .6s ease both}
.card:hover{transform:perspective(800px) rotateX(2deg) rotateY(-2deg) translateZ(6px);box-shadow:0 40px 90px rgba(0,0,0,.9), 0 0 80px rgba(255,0,0,.18)}
.photo{width:100%;border-radius:12px;aspect-ratio:1/1;object-fit:contain;background:#000}
.model{font-size:18px;font-weight:900;margin-top:6px}
.price{font-size:15px;margin-bottom:8px;color:var(--muted)}
.badges{position:absolute;top:10px;left:10px;display:flex;flex-wrap:wrap;gap:6px}
.tag{font-size:11px;font-weight:800;padding:6px 10px;border-radius:999px;backdrop-filter:blur(6px)}
.tag.brand{background:linear-gradient(90deg,var(--brand1),var(--brand2));color:#000}
.tag.new{background:linear-gradient(90deg,#00e1ff,#0078ff);animation:pulse 2.2s ease-in-out infinite}
.tag.stock{background:linear-gradient(90deg,#aaff00,#27ae60)}
.tag.hot{background:linear-gradient(90deg,#ffd500,#ff7b00);color:#000}
.btn{display:block;margin-top:10px;text-align:center;padding:12px;border-radius:12px;background:radial-gradient(circle at 0% 0%,var(--wa1),var(--wa2));color:#000;font-weight:900;text-decoration:none;box-shadow:0 18px 30px rgba(18,140,126,.45);transition:transform .22s ease, box-shadow .22s ease, filter .22s ease;transform-style:preserve-3d;animation:fadeUp .75s ease both}
.btn:hover{transform:perspective(700px) translateZ(12px) scale(1.06) rotateX(2deg);box-shadow:0 28px 48px rgba(18,140,126,.6);filter:brightness(1.05)}
.btn.secondary{background:linear-gradient(90deg,#ffd166,#ff7b00);color:#000;box-shadow:0 14px 24px rgba(255,123,0,.35)}
:root.dark{--bg1:#000;--bg2:#0a0a0a;--card:rgba(10,10,10,.94);--stroke:rgba(255,255,255,.12)}
</style>
</head>
<body>
<main class="wrap">
  <div class="head">
    <div class="title">Re Long â€“ Catalogo Pro</div>
    <div class="controls">
      <button class="btn-filter active" data-filter="all">Tutti</button>
      <button class="btn-filter" data-filter="Apple">Apple</button>
      <button class="btn-filter" data-filter="Samsung">Samsung</button>
      <button class="btn-filter" data-filter="OPPO">OPPO</button>
      <button class="toggle" id="darkToggle">ðŸŒ™ Dark 3D</button>
    </div>
  </div>

  <section class="grid" id="grid"></section>
</main>

<script>
const WA = "3908119578844";

// Dati centralizzati (immagini in questa versione non incluse per brevitÃ : sostituisci con le tue base64 se necessario)
const prodotti = [
  { id:"iphone17pro", brand:"Apple", nome:"iPhone 17 Pro", prezzo:1499, img:"", tags:["Bestseller"] },
  { id:"iphone17", brand:"Apple", nome:"iPhone 17", prezzo:1099, img:"", tags:["NovitÃ "] },
  { id:"iphone_air", brand:"Apple", nome:"iPhone Air", prezzo:1299, img:"", tags:[] },
  { id:"ip17promax", brand:"Apple", nome:"iPhone 17 Pro Max 256GB", prezzo:1657.8, img:"", tags:["Ultimi pezzi"] },

  { id:"s25", brand:"Samsung", nome:"Galaxy S25 Ultra", prezzo:1399, img:"", tags:["Bestseller"] },
  { id:"a56", brand:"Samsung", nome:"Galaxy A56 5G", prezzo:483.8, img:"", tags:["NovitÃ "] },
  { id:"zfold7", brand:"Samsung", nome:"Galaxy Z Fold 7 256GB", prezzo:1977, img:"", tags:["Premium"] },

  { id:"a5pro", brand:"OPPO", nome:"OPPO A5 Pro", prezzo:255.9, img:"", tags:["Convenienza"] },
];

function badgeClass(tag){ if(tag==="NovitÃ ") return "tag new"; if(tag==="Ultimi pezzi") return "tag stock"; if(tag==="Bestseller") return "tag hot"; if(tag==="Premium") return "tag brand"; if(tag==="Convenienza") return "tag stock"; return "tag"; }

function placeholder(brand){ return "data:image/svg+xml;utf8,"+encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='512' height='512'><rect width='100%' height='100%' fill='black'/><text x='50%' y='50%' fill='white' font-size='28' font-family='Arial' text-anchor='middle' dominant-baseline='middle'>${brand}</text></svg>`); }

function cardHTML(p){
  const waUrl = "https://wa.me/"+WA+"?text="+encodeURIComponent("Ciao Re Long, voglio info su "+p.nome+"!");
  const badges = p.tags.map(t => `<span class="${badgeClass(t)}">${t}</span>`).join("");
  const img = p.img || placeholder(p.brand);
  return `
    <article class="card" data-brand="${p.brand}">
      <div class="badges">
        <span class="tag brand">${p.brand}</span>
        ${badges}
      </div>
      <img class="photo" src="${img}" alt="${p.nome}">
      <div class="model">${p.nome}</div>
      <p class="price">Prezzo totale: â‚¬ ${p.prezzo}</p>
      <div class="simulatore" style="margin-top:12px;padding:12px;border:1px solid rgba(255,255,255,.1);border-radius:12px;background:rgba(255,255,255,.05)">
        <label class="sim-label" style="font-size:14px;color:var(--muted)">Simula la tua rata:</label>
        <select class="sim-select" onchange="calcolaRata(this, ${p.prezzo})" style="width:100%;margin-top:6px;padding:8px;border-radius:10px;background:#0f0f0f;color:#fff;border:1px solid rgba(255,255,255,.15)">
          <option value="">Seleziona durata</option>
          <option value="12">12 mesi</option>
          <option value="24">24 mesi</option>
          <option value="30">30 mesi</option>
          <option value="36">36 mesi</option>
          <option value="48">48 mesi</option>
        </select>
        <div class="sim-output" style="margin-top:8px;font-size:15px;font-weight:700;color:#ffd166">Rata mensile: â€”</div>
      </div>
      <a class="btn" href="${waUrl}" target="_blank" rel="noopener">ðŸ’¬ Chatta su WhatsApp</a>
      <button class="btn secondary" onclick="inviaSimulazione(this, '${p.nome}', ${p.prezzo})">ðŸ“¤ Invia simulazione su WhatsApp</button>
    </article>
  `;
}

function render(filter="all"){
  const grid=document.getElementById("grid");
  grid.innerHTML="";
  prodotti.filter(p => filter==="all" ? true : p.brand===filter).forEach(p => grid.innerHTML += cardHTML(p));

  // 3D tilt on buttons after render
  document.querySelectorAll('.btn').forEach(btn=>{
    btn.addEventListener('mousemove', e=>{
      const r=btn.getBoundingClientRect(), x=e.clientX-r.left, y=e.clientY-r.top;
      const rx=((y/r.height)-.5)*6, ry=((x/r.width)-.5)*-6;
      btn.style.transform=`perspective(700px) translateZ(12px) scale(1.05) rotateX(${rx}deg) rotateY(${ry}deg)`;
    });
    btn.addEventListener('mouseleave', ()=> btn.style.transform='');
  });
}

render();

// Filtri cliccabili
document.querySelectorAll(".btn-filter").forEach(btn => {
  btn.addEventListener("click", () => {
    document.querySelectorAll(".btn-filter").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    render(btn.dataset.filter);
  });
});

// Toggle Dark 3D
document.getElementById("darkToggle").addEventListener("click", () => {
  document.documentElement.classList.toggle("dark");
});

// Simulatore
function calcolaRata(select, prezzo){
  const mesi=parseInt(select.value);
  const out=select.parentElement.querySelector('.sim-output');
  if(!mesi){ out.textContent="Rata mensile: â€”"; return; }
  out.textContent="Rata mensile: â‚¬ "+(prezzo/mesi).toFixed(2);
}

// Invia simulazione su WhatsApp
function inviaSimulazione(btn, nome, prezzo){
  const card = btn.closest('.card');
  const select = card.querySelector('.sim-select');
  const mesi = parseInt(select?.value || "");
  if(!mesi){ alert("Seleziona la durata (12/24/30/36/48 mesi) prima di inviare la simulazione."); return; }
  const rata = (prezzo/mesi).toFixed(2);
  const msg = `Ciao Re Long, ho simulato ${nome}: prezzo â‚¬ ${prezzo}, durata ${mesi} mesi, rata â‚¬ ${rata}/mese. Mi confermi disponibilitÃ ?`;
  const url = "https://wa.me/"+WA+"?text="+encodeURIComponent(msg);
  window.open(url, "_blank");
}
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Re Long Informatica, Telefonia, Energia & Assistenza PC</title>

  <!-- META SEO / SOCIAL -->
  <meta name="description" content="Hub Re Long: Smartphone a rate senza busta paga, offerte Business, Energia Casa e Assistenza PC. Marano di Napoli. Tel 08119578844.">
  <meta name="theme-color" content="#0a0a0a">

  <meta property="og:type" content="website">
  <meta property="og:title" content="Re Long Informatica â€“ Telefonia, Energia & Assistenza PC">
  <meta property="og:description" content="Smartphone a rate, Offerte Business, Energia Casa, Fidelity Card e Gestionale Clienti. Tel: 08119578844.">
  <meta property="og:url" content="https://alessandroiascone.github.io/relong-nfc/relong-hub-v2.html">

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-font-smoothing: antialiased;
    }

    :root{
      --bg1:#05060a;
      --bg2:#0b0d12;
      --card:rgba(14,16,22,.94);
      --stroke:rgba(255,255,255,.08);
      --elec:#0aa2ff;
      --accent:#ff3b30;
      --ok:#25D366;
      --muted:rgba(210,220,255,.75);
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, rgba(255,59,48,.18) 0, transparent 55%),
                  radial-gradient(circle at bottom, rgba(10,162,255,.24) 0, transparent 60%),
                  linear-gradient(145deg, var(--bg1), var(--bg2));
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      color: #f7f9ff;
      display: flex;
      align-items: stretch;
      justify-content: center;
    }

    .app-shell{
      width: 100%;
      max-width: 540px;
      padding: 18px 16px 90px;
      margin: 0 auto;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:12px;
    }

    .logo-wrap{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .logo-circle{
      width:38px;
      height:38px;
      border-radius:14px;
      background: radial-gradient(circle at 30% 0, #fff 0, #ffe4e2 18%, #ff3b30 55%, #8b0000 100%);
      box-shadow:0 0 18px rgba(255,59,48,.6);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      font-size:18px;
      color:#fff;
    }

    .brand-title{
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .brand-title span:first-child{
      font-size:16px;
      font-weight:700;
      letter-spacing:.04em;
      text-transform:uppercase;
    }

    .brand-title span:last-child{
      font-size:11px;
      color:var(--muted);
    }

    .tag-pill{
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:radial-gradient(circle at 0 0, rgba(10,162,255,.4), transparent 55%);
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:.12em;
      color:var(--muted);
    }

    .hero-card{
      margin-top:10px;
      padding:16px 14px 14px;
      border-radius:22px;
      border:1px solid var(--stroke);
      background:
        radial-gradient(circle at 0 0, rgba(10,162,255,.24), transparent 55%),
        radial-gradient(circle at 100% 0, rgba(255,59,48,.18), transparent 55%),
        var(--card);
      box-shadow:0 22px 55px rgba(0,0,0,.7);
    }

    .hero-top{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      margin-bottom:10px;
    }

    .hero-text h1{
      font-size:20px;
      line-height:1.2;
      margin-bottom:6px;
    }

    .hero-text p{
      font-size:12px;
      color:var(--muted);
    }

    .points-chip{
      padding:6px 10px;
      border-radius:999px;
      background:rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.22);
      font-size:11px;
      display:flex;
      flex-direction:column;
      gap:2px;
      text-align:right;
    }

    .points-chip span:first-child{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:.1em;
      color:var(--muted);
    }

    .points-chip span:last-child{
      font-size:13px;
      font-weight:700;
      color:#fff;
    }

    .hero-bottom{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-top:4px;
    }

    .hero-pill{
      font-size:11px;
      color:var(--muted);
    }

    .hero-pill strong{
      color:#fff;
    }

    .whatsapp-mini{
      display:flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      cursor:pointer;
      text-decoration:none;
      color:#e4ffe9;
    }

    .whatsapp-dot{
      width:18px;
      height:18px;
      border-radius:999px;
      background:#25D366;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:11px;
      box-shadow:0 0 12px rgba(37,211,102,.7);
    }

    /* ROTAZIONE OFFERTE */
    .offers-card{
      margin-top:14px;
      padding:14px 12px;
      border-radius:20px;
      border:1px solid var(--stroke);
      background:linear-gradient(135deg, rgba(10,162,255,.22), rgba(6,7,11,.95));
    }

    .offers-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:8px;
    }

    .offers-header span{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.1em;
      color:var(--muted);
    }

    .offers-badge{
      padding:4px 9px;
      border-radius:999px;
      font-size:10px;
      background:rgba(0,0,0,.6);
      border:1px solid rgba(255,255,255,.22);
      color:#ffd9d6;
    }

    .offer-main{
      min-height:54px;
      transition:opacity .4s ease, transform .4s ease;
    }

    .offer-title{
      font-size:15px;
      font-weight:700;
      margin-bottom:2px;
    }

    .offer-text{
      font-size:12px;
      color:var(--muted);
    }

    .offer-meta{
      margin-top:6px;
      font-size:10px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
    }

    .offer-main.fade{
      opacity:0;
      transform:translateY(4px);
    }

    /* PULSANTI AZIONE */
    .cta-grid{
      margin-top:16px;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
    }

    .btn-cta{
      border:none;
      border-radius:16px;
      padding:12px 10px;
      font-size:13px;
      font-weight:600;
      cursor:pointer;
      text-decoration:none;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      background:linear-gradient(135deg,#ff3b30,#b31217);
      color:#fff;
      box-shadow:0 10px 26px rgba(255,59,48,.55);
    }

    .btn-cta.secondary{
      background:linear-gradient(135deg,#0aa2ff,#005bea);
      box-shadow:0 10px 26px rgba(10,162,255,.55);
    }

    .btn-cta.whatsapp{
      grid-column:1/3;
      background:linear-gradient(135deg,#25D366,#128C7E);
      box-shadow:0 10px 26px rgba(37,211,102,.6);
      font-size:14px;
    }

    /* NOTIFICHE */
    .notify-card{
      margin-top:14px;
      padding:12px 11px;
      border-radius:18px;
      border:1px dashed rgba(255,255,255,.25);
      background:rgba(0,0,0,.55);
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
    }

    .notify-text{
      font-size:11px;
      color:var(--muted);
    }

    .notify-text strong{
      color:#fff;
    }

    .notify-btn{
      border:none;
      border-radius:999px;
      padding:7px 12px;
      font-size:11px;
      font-weight:600;
      cursor:pointer;
      background:rgba(10,162,255,.18);
      color:#fff;
      border:1px solid rgba(10,162,255,.6);
      white-space:nowrap;
    }

    /* BANNER "AGGIUNGI ALLA HOME" */
    .install-banner{
      position:fixed;
      left:10px;
      right:10px;
      bottom:10px;
      padding:10px 11px;
      border-radius:18px;
      background:rgba(3,3,8,.96);
      border:1px solid rgba(255,255,255,.14);
      box-shadow:0 18px 40px rgba(0,0,0,.9);
      display:none;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      z-index:20;
    }

    .install-text{
      font-size:11px;
      color:var(--muted);
    }

    .install-text strong{
      color:#fff;
    }

    .install-actions{
      display:flex;
      gap:6px;
    }

    .install-actions button{
      border:none;
      border-radius:999px;
      padding:7px 10px;
      font-size:11px;
      font-weight:600;
      cursor:pointer;
    }

    .btn-install{
      background:#ff3b30;
      color:#fff;
    }

    .btn-later{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,.3);
    }

    @media (min-width:600px){
      .app-shell{
        padding-top:26px;
      }
    }
  </style>
</head>

<body>
  <div class="app-shell">
    <header>
      <div class="logo-wrap">
        <div class="logo-circle">R</div>
        <div class="brand-title">
          <span>Re Long Informatica</span>
          <span>Telefonia â€¢ Energia â€¢ Assistenza PC</span>
        </div>
      </div>
      <div class="tag-pill">Hub Digitale NFC</div>
    </header>

    <!-- HERO / FIDELITY / INTRO -->
    <section class="hero-card">
      <div class="hero-top">
        <div class="hero-text">
          <h1>Smartphone a rate, offerte e Fidelity in un unico Hub.</h1>
          <p>Accedi al catalogo, al gestionale, alla Fidelity Card e alle promo energia direttamente da qui.</p>
        </div>
        <div class="points-chip">
          <span>Fidelity Card</span>
          <span>Raccogli punti, porta un amico, sblocca omaggi.</span>
        </div>
      </div>
      <div class="hero-bottom">
        <div class="hero-pill">
          Sempre attivo per <strong>Marano di Napoli</strong> e dintorni.
        </div>
        <a class="whatsapp-mini" href="https://wa.me/3908119578844" target="_blank" rel="noopener">
          <div class="whatsapp-dot">W</div>
          <span>WhatsApp dedicato</span>
        </a>
      </div>
    </section>

    <!-- ROTAZIONE OFFERTE -->
    <section class="offers-card">
      <div class="offers-header">
        <span>Offerta in evidenza</span>
        <div class="offers-badge" id="offerBadge">Flash Promo</div>
      </div>
      <div class="offer-main" id="offerMain">
        <div class="offer-title" id="offerTitle"></div>
        <div class="offer-text" id="offerText"></div>
        <div class="offer-meta">
          <span id="offerTag"></span>
          <span>Scorri, scopri, passa in negozio.</span>
        </div>
      </div>
    </section>

    <!-- CTA PRINCIPALI -->
    <section class="cta-grid">
      <a class="btn-cta" href="catalogo-smartphone-reale-v3.html">
        ðŸ“± Catalogo Smartphone
      </a>
      <a class="btn-cta secondary" href="scadenziario_v32b.html">
        ðŸ“Š Gestionale & Promemoria
      </a>
      <a class="btn-cta whatsapp" href="https://wa.me/3908119578844" target="_blank" rel="noopener">
        ðŸ’¬ Scrivici su WhatsApp
      </a>
    </section>

    <!-- NOTIFICHE OFFERTE -->
    <section class="notify-card">
      <div class="notify-text">
        <strong>Non perderti le promo lampo.</strong><br>
        Attiva le notifiche per offerte smartphone, Fidelity e energia. Niente spam, solo occasioni serie.
      </div>
      <button class="notify-btn" id="enableNotifBtn">Attiva notifiche</button>
    </section>
  </div>

  <!-- BANNER "AGGIUNGI ALLA HOME" -->
  <div class="install-banner" id="installBanner">
    <div class="install-text">
      <strong>Installa Re Long Hub</strong><br>
      Aggiungi lâ€™app alla schermata Home per avere catalogo, gestionale e Fidelity sempre a 1 tap.
    </div>
    <div class="install-actions">
      <button class="btn-later" id="btnLater">PiÃ¹ tardi</button>
      <button class="btn-install" id="btnInstall">Installa ora</button>
    </div>
  </div>

  <script>
    // ðŸŒŸ ROTAZIONE OFFERTE
    const offers = [
      {
        title: "Smartphone a rate senza busta paga.",
        text: "Vodafone â€¢ Wind3 â€¢ Compass. Blocca il tuo smartphone top di gamma senza anticipo e con consulenza completa in negozio.",
        tag: "Finanziamenti smart",
        badge: "Re Long Special"
      },
      {
        title: "Porta un amico, raddoppi i vantaggi.",
        text: "Con la Fidelity raccogli punti anche presentando un amico: sblocca omaggi, sconti su accessori e promo dedicate.",
        tag: "Fidelity & Referral",
        badge: "Fidelity Card"
      },
      {
        title: "Luce & Gas: bollette sotto controllo.",
        text: "Simulatore energia dedicato: confrontiamo insieme le offerte e ti aiutiamo a risparmiare in modo trasparente.",
        tag: "Energia Casa & Business",
        badge: "Check bolletta"
      },
      {
        title: "Assistenza PC & Console con reminder WhatsApp.",
        text: "Ritiro, diagnosi, preventivo e reminder automatici: sai sempre a che punto Ã¨ la tua riparazione.",
        tag: "Laboratorio Re Long",
        badge: "Servizio Premium"
      }
    ];

    let offerIndex = 0;
    const offerTitle = document.getElementById("offerTitle");
    const offerText = document.getElementById("offerText");
    const offerTag = document.getElementById("offerTag");
    const offerBadge = document.getElementById("offerBadge");
    const offerMain = document.getElementById("offerMain");

    function renderOffer(index){
      const off = offers[index];
      if(!off) return;
      offerMain.classList.add("fade");
      setTimeout(() => {
        offerTitle.textContent = off.title;
        offerText.textContent = off.text;
        offerTag.textContent = off.tag;
        offerBadge.textContent = off.badge;
        offerMain.classList.remove("fade");
      }, 250);
    }

    renderOffer(offerIndex);
    setInterval(() => {
      offerIndex = (offerIndex + 1) % offers.length;
      renderOffer(offerIndex);
    }, 6000);

    // ðŸ“² BANNER "AGGIUNGI ALLA HOME"
    let deferredPrompt = null;
    const installBanner = document.getElementById("installBanner");
    const btnInstall = document.getElementById("btnInstall");
    const btnLater = document.getElementById("btnLater");

    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;
      if (!localStorage.getItem("relong_install_dismissed")) {
        installBanner.style.display = "flex";
      }
    });

    if (btnInstall) {
      btnInstall.addEventListener("click", async () => {
        if (!deferredPrompt) return;
        deferredPrompt.prompt();
        const choice = await deferredPrompt.userChoice;
        deferredPrompt = null;
        installBanner.style.display = "none";
        if (choice.outcome === "dismissed") {
          localStorage.setItem("relong_install_dismissed", "1");
        }
      });
    }

    if (btnLater) {
      btnLater.addEventListener("click", () => {
        installBanner.style.display = "none";
        localStorage.setItem("relong_install_dismissed", "1");
      });
    }

    // ðŸ”” NOTIFICHE (BASE)
    const notifBtn = document.getElementById("enableNotifBtn");

    async function enableNotifications(){
      if (!("Notification" in window)) {
        alert("Le notifiche non sono supportate su questo dispositivo.");
        return;
      }
      const permission = await Notification.requestPermission();
      if (permission === "granted") {
        localStorage.setItem("relong_notif_enabled", "1");
        if ("serviceWorker" in navigator) {
          const reg = await navigator.serviceWorker.ready;
          reg.showNotification("Re Long attivato âœ…", {
            body: "Riceverai gli aggiornamenti sulle offerte piÃ¹ interessanti.",
            icon: "icons/icon-192.png",
            badge: "icons/icon-192.png",
            data: { url: "/relong-nfc/relong-hub-v2.html" }
          });
        }
      } else {
        localStorage.setItem("relong_notif_enabled", "0");
      }
    }

    if (notifBtn) {
      notifBtn.addEventListener("click", enableNotifications);
    }

    // ðŸ›  REGISTRAZIONE SERVICE WORKER PWA
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("/relong-nfc/sw.js")
          .catch(err => console.log("SW registration failed:", err));
      });
    }
  </script>
</body>
</html>

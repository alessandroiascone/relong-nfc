<!-- File: simulatore-energia-business-sconto.html -->
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Re Long | Simulatore Energia & Business</title>
  <meta name="theme-color" content="#0a0a0a" />
  <style>
    *{box-sizing:border-box;margin:0;padding:0;-webkit-font-smoothing:antialiased}
    :root{
      --bg1:#0a0a0a; --bg2:#000;
      --card:rgba(20,20,20,.92);
      --stroke:rgba(255,255,255,.09);
      --muted:rgba(255,255,255,.68);
      --brand1:#ff3b1a; --brand2:#ff7b00; --brand3:#ffd400;
      --banner:#ff2d2d;
    }
    body{
      font-family:system-ui,-apple-system,Inter,Roboto,Segoe UI,Arial,sans-serif;
      color:#fff; min-height:100dvh;
      background:
        radial-gradient(1200px 800px at 10% 10%, #131313 0%, transparent 60%),
        radial-gradient(1000px 600px at 90% 20%, #171717 0%, transparent 60%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .wrap{width:min(980px,100%); display:grid; gap:18px}
    .title{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:18px 20px; border:1px solid var(--stroke); border-radius:20px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0)),
        linear-gradient(135deg, rgba(255,122,0,.08), rgba(255,212,0,.03));
      box-shadow:0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.03);
    }
    .title h1{font-size:20px; letter-spacing:.2px}
    .badge{
      font-weight:700; font-size:12px; letter-spacing:.6px; text-transform:uppercase;
      padding:8px 12px; border-radius:999px; border:1px solid var(--stroke);
      background:linear-gradient(90deg,var(--brand1),var(--brand2),var(--brand3));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.05);
    }
    .card{
      border:1px solid var(--stroke); border-radius:20px; padding:18px;
      background:
        radial-gradient(120% 120% at 80% 0%, rgba(255,160,0,.08), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.0)),
        var(--card);
      box-shadow:0 12px 32px rgba(0,0,0,.5), inset 0 0 0 1px rgba(255,255,255,.02);
    }
    .row{display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:6px}
    @media (max-width:720px){ .row{grid-template-columns:1fr} }

    label{font-size:13px; color:var(--muted); margin-bottom:6px; display:block}
    select{
      width:100%; padding:14px 14px; border-radius:14px; border:1px solid var(--stroke);
      background:#101010; color:#fff; outline:none; font-size:15px;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.02);
    }

    .lamp{
      display:flex; align-items:center; gap:14px; padding:14px;
      border-radius:16px; border:1px dashed var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
      margin:14px 0 10px;
    }
    .bulb{
      width:58px; height:58px; border-radius:50%;
      background:radial-gradient(circle at 35% 30%, #fff 0%, #ffe08a 40%, #ffcf4a 60%, #ffb300 85%, #aa7000 100%);
      box-shadow:0 0 12px rgba(255,210,64,.7), 0 0 36px rgba(255,180,24,.35), inset 0 -10px 20px rgba(0,0,0,.35);
      transition:filter .25s ease, opacity .25s ease;
    }
    .bulb.off{
      background:radial-gradient(circle at 35% 30%, #777 0%, #666 40%, #4b4b4b 70%, #2a2a2a 100%);
      box-shadow: inset 0 -6px 12px rgba(0,0,0,.6);
      filter:grayscale(.2) brightness(.8);
    }

    .banner{
      display:none;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)), linear-gradient(90deg, var(--banner), #ff6a00);
      padding:12px 14px; font-weight:800; letter-spacing:.2px;
      text-shadow:0 1px 0 rgba(0,0,0,.4);
      margin-bottom:10px;
    }
    .banner.show{display:block}

    .out{
      border:1px solid var(--stroke); border-radius:16px; padding:14px; min-height:64px;
      background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
      font-size:15px;
    }

    .btns{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
    .btn{
      appearance:none; border:0; cursor:pointer; border-radius:14px; padding:12px 16px;
      font-weight:700; font-size:14px; color:#0a0a0a;
      background:linear-gradient(90deg,var(--brand1),var(--brand2),var(--brand3));
      box-shadow:0 8px 20px rgba(255,140,0,.25);
      text-decoration:none; display:inline-flex; align-items:center; gap:8px;
    }
    .btn.secondary{
      background:linear-gradient(180deg,#161616,#101010);
      color:#fff; border:1px solid var(--stroke);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.04);
    }
    .pill{
      font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid var(--stroke);
      background:linear-gradient(90deg,rgba(255,255,255,.04),rgba(255,255,255,0));
      color:var(--muted);
    }
    .foot{display:flex; justify-content:space-between; align-items:center; gap:8px; margin-top:6px}
    .foot small{color:var(--muted)}
  </style>
</head>
<body>
  <main class="wrap" role="main">
    <header class="title">
      <h1>Simulatore Sconti ‚Ä¢ Re Long</h1>
      <span class="badge">Business ‚Ä¢ Energia</span>
    </header>

    <section class="card" aria-labelledby="lbl-scelte">
      <h2 id="lbl-scelte" style="font-size:16px; margin-top:2px">Imposta la tua situazione</h2>

      <div class="row" style="margin-top:10px">
        <div>
          <label for="selMobile">Diventa cliente Vodafone Business (Mobile)</label>
          <select id="selMobile" aria-label="Diventa cliente Vodafone Business Mobile">
            <option value="no">No</option>
            <option value="si">S√¨</option>
          </select>
        </div>
        <div>
          <label for="selFisso">Diventa cliente Vodafone Business (Fisso)</label>
          <select id="selFisso" aria-label="Diventa cliente Vodafone Business Fisso">
            <option value="no">No</option>
            <option value="si">S√¨</option>
          </select>
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <div>
          <label for="selEnergia">Diventa cliente Vodafone Business (Energia)?</label>
          <select id="selEnergia" aria-label="Diventa cliente Vodafone Business Energia">
            <option value="no">No</option>
            <option value="si">S√¨</option>
          </select>
        </div>
        <div></div>
      </div>

      <div id="banner" class="banner" role="status" aria-live="polite"></div>

      <div class="lamp">
        <div id="bulb" class="bulb off" aria-hidden="true"></div>
        <div class="txt">
          <div id="lampTit" style="font-size:16px; font-weight:800">Lampadina spenta</div>
          <div id="lampSub" style="font-size:13px; color:var(--muted)">Scopri gli sconti selezionando le opzioni.</div>
        </div>
      </div>

      <div id="output" class="out" aria-live="polite"></div>

      <div class="btns">
        <button class="btn secondary" id="btnCopy" type="button">Copia simulazione</button>
        <a class="btn" id="btnWA" href="#" target="_blank" rel="noopener">Invia su WhatsApp</a>
        <span class="pill">WhatsApp: 08119578844</span>
      </div>

      <div class="foot">
        <small>Stime indicative. Verifica in negozio le condizioni.</small>
        <small>Re Long Informatica ‚Ä¢ Marano di Napoli</small>
      </div>
    </section>
  </main>

  <script>
    (function(){
      const selMobile  = document.getElementById('selMobile');
      const selFisso   = document.getElementById('selFisso');
      const selEnergia = document.getElementById('selEnergia');

      const bulb   = document.getElementById('bulb');
      const lampTit= document.getElementById('lampTit');
      const lampSub= document.getElementById('lampSub');
      const out    = document.getElementById('output');
      const banner = document.getElementById('banner');

      const btnCopy= document.getElementById('btnCopy');
      const btnWA  = document.getElementById('btnWA');

      const WA_NUMBER = '3908119578844'; // +39 08119578844

      function compute(){
        const m = selMobile.value;   // 'si' | 'no'
        const f = selFisso.value;    // 'si' | 'no'
        const e = selEnergia.value;  // 'si' | 'no'

        // Regole richieste:
        // - Mobile = S√¨ e Energia = S√¨  -> ‚Ç¨180 annui
        // - Fisso  = S√¨ e Energia = S√¨  -> ‚Ç¨180 annui
        // - Mobile = S√¨ & Fisso = S√¨ & Energia = S√¨ -> ‚Ç¨240 annui
        // - Energia = No -> nessuno sconto (anche se Mobile/Fisso sono S√¨)

        let amount = 0;
        if (e === 'si') {
          if (m === 'si' && f === 'si') amount = 240;
          else if (m === 'si' || f === 'si') amount = 180;
        }

        const lampOn = amount > 0;

        // Banner (solo quando c'√® diritto allo sconto)
        if (lampOn) {
          banner.classList.add('show');
          banner.innerHTML = `üéâ Complimenti! Hai diritto allo <u>sconto annuo di ‚Ç¨${amount}</u>.`;
        } else {
          banner.classList.remove('show');
          banner.innerHTML = '';
        }

        // UI lampadina + testi
        bulb.classList.toggle('off', !lampOn);
        lampTit.textContent = lampOn ? 'Lampadina accesa' : 'Lampadina spenta';
        lampSub.textContent = lampOn
          ? (amount === 240 ? 'Fisso + Mobile + Energia attivi: sconto totale ‚Ç¨240/anno.'
                            : 'Con Energia + (Fisso o Mobile): sconto ‚Ç¨180/anno.')
          : 'Scopri gli sconti selezionando le opzioni.';

        // Messaggio di riepilogo (senza mostrare le regole esplicite)
        const message =
          (lampOn
            ? `‚úÖ Simulazione Re Long
‚Ä¢ Diventa Vodafone Business Mobile: ${m==='si'?'S√¨':'No'}
‚Ä¢ Diventa Vodafone Business Fisso: ${f==='si'?'S√¨':'No'}
‚Ä¢ Diventa Vodafone Business Energia: ${e==='si'?'S√¨':'No'}
‚Üí Esito: Lampadina accesa ‚Ä¢ SCONTO ‚Ç¨${amount} annui
WhatsApp: 08119578844`
            : `‚ÑπÔ∏è Simulazione Re Long
‚Ä¢ Diventa Vodafone Business Mobile: ${m==='si'?'S√¨':'No'}
‚Ä¢ Diventa Vodafone Business Fisso: ${f==='si'?'S√¨':'No'}
‚Ä¢ Diventa Vodafone Business Energia: ${e==='si'?'S√¨':'No'}
‚Üí Esito: Nessuno sconto automatico
WhatsApp: 08119578844`
          );

        out.innerHTML = message.replace(/\n/g,'<br>');

        // WhatsApp link
        const waText = encodeURIComponent(message + '\n‚Äî Inviato da Simulatore Re Long');
        btnWA.href = 'https://wa.me/' + WA_NUMBER + '?text=' + waText;

        return message;
      }

      [selMobile, selFisso, selEnergia].forEach(el => el.addEventListener('change', compute));

      // Copia negli appunti
      btnCopy.addEventListener('click', async () => {
        const msg = compute();
        try {
          await navigator.clipboard.writeText(msg);
          btnCopy.textContent = 'Copiato ‚úî';
          setTimeout(()=>btnCopy.textContent='Copia simulazione', 1200);
        } catch (e) {
          btnCopy.textContent = 'Errore copia';
          setTimeout(()=>btnCopy.textContent='Copia simulazione', 1200);
        }
      });

      // Init
      compute();
    })();
  </script>
</body>
</html>

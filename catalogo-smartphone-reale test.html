<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Re Long | Catalogo Smartphone (3D Clean)</title>
<meta name="description" content="Catalogo smartphone Re Long: filtri per brand, ricerca live, badge dinamici, pulsante WhatsApp, hover 3D. Tel 08119578844.">
<meta name="theme-color" content="#0a0a0a">
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 256 256'%3E%3Crect width='256' height='256' rx='56' fill='%230a0a0a'/%3E%3Cpath d='M60 176l68-96l68 96' fill='none' stroke='%23ff3b1a' stroke-width='20' stroke-linecap='round' stroke-linejoin='round'/%3E%3Ccircle cx='128' cy='96' r='14' fill='%23ff9a1a'/%3E%3C/svg%3E" />

<style>
  :root{
    --bg1:#0a0a0a; --bg2:#000;
    --brand1:#ff0000; --brand2:#ff7b00;
    --muted:rgba(255,255,255,.70); --muted2:rgba(255,255,255,.5);
    --card:rgba(20,20,20,.94); --stroke:rgba(255,255,255,.08);
    --ok:#22c55e; --warn:#f59e0b; --hot:#ef4444; --chip:#1f1f1f;
    --wa1:#25D366; --wa2:#128C7E;
  }
  *{box-sizing:border-box;margin:0;padding:0;-webkit-font-smoothing:antialiased}
  body{
    font-family:system-ui,-apple-system,Inter,Roboto,sans-serif;
    background:radial-gradient(circle at 20% 20%,var(--bg1) 0%, var(--bg2) 70%);
    color:#fff; min-height:100vh; padding:22px;
  }
  .wrap{max-width:1100px;margin:0 auto; display:grid; gap:18px}
  .head{
    display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between
  }
  .brand{
    display:flex;gap:10px;align-items:center;font-weight:900;font-size:20px;letter-spacing:-.02em;text-decoration:none;color:#fff
  }
  .brand .logo{width:22px;height:22px}
  .brand .logo path{stroke:#ff5400}
  .sub{color:var(--muted);font-size:12px}
  .toolbar{
    display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between;background:rgba(255,255,255,.03);
    border:1px solid var(--stroke);padding:10px;border-radius:14px
  }
  .chips{display:flex;flex-wrap:wrap;gap:8px}
  .chip{
    background:var(--chip); border:1px solid var(--stroke); color:#fff; font-weight:700;
    padding:8px 12px; border-radius:999px; cursor:pointer; transition:.2s;
  }
  .chip[data-active="1"]{outline:2px solid #ff7b00; outline-offset:0}
  .searchRow{display:flex;gap:8px;align-items:center}
  .searchRow input, .searchRow select{
    background:#121212;border:1px solid var(--stroke);color:#fff;border-radius:10px;padding:10px 12px
  }
  .counter{font-size:12px;color:var(--muted)}
  /* grid */
  .grid{display:grid;grid-template-columns: repeat(2,1fr); gap:14px}
  @media(min-width:1000px){ .grid{ grid-template-columns: repeat(3,1fr)} }
  /* card */
  .card{
    position:relative;background:linear-gradient(150deg,var(--card) 0%,rgba(0,0,0,.6) 100%);
    border:1px solid var(--stroke); border-radius:18px; padding:14px; display:flex; flex-direction:column; gap:10px;
    box-shadow:0 18px 40px rgba(0,0,0,.85), 0 0 40px rgba(255,0,0,.12);
    transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease, filter .25s ease;
    transform-style:preserve-3d;
  }
  .card:hover{
    transform:perspective(900px) rotateX(2deg) rotateY(-2deg) translateZ(6px);
    box-shadow:0 28px 80px rgba(0,0,0,.95), 0 0 90px rgba(255,59,0,.2); border-color:rgba(255,255,255,.14)
  }
  .thumb{
    height:210px; display:grid; place-items:center; background:linear-gradient(180deg,#151515,#0a0a0a);
    border:1px solid var(--stroke); border-radius:14px; overflow:hidden
  }
  .thumb img{max-width:82%; max-height:82%; display:block; filter:drop-shadow(0 20px 40px rgba(0,0,0,.6))}
  .badges{position:absolute;left:12px;top:12px;display:flex;gap:6px;flex-wrap:wrap}
  .b{font-size:11px;font-weight:900;padding:5px 8px;border-radius:999px;border:1px solid rgba(0,0,0,.2); color:#000}
  .b.new{background:linear-gradient(90deg,#ff7b00,#ffd166)}
  .b.hot{background:linear-gradient(90deg,#ff2a2a,#ff7b00)}
  .b.best{background:linear-gradient(90deg,#00e095,#22c55e)}
  .title{font-weight:900;font-size:16px; letter-spacing:-.02em}
  .meta{display:flex;gap:8px;align-items:center;color:var(--muted);font-size:12px}
  .price{font-weight:900;font-size:18px}
  .btns{display:grid; gap:8px; margin-top:6px}
  .btn{
    text-decoration:none;text-align:center;padding:10px 12px;border-radius:12px;font-weight:900;color:#000;
    background:linear-gradient(90deg,var(--brand1),var(--brand2));
    box-shadow:0 16px 26px rgba(255,90,0,.35); transition:.2s;
  }
  .btn:hover{filter:brightness(1.05); transform:translateY(-1px)}
  .btn.ghost{
    background:rgba(255,255,255,.04); color:#fff; border:1px solid var(--stroke); box-shadow:none
  }
  .wa{
    background:radial-gradient(circle at 0% 0%, var(--wa1), var(--wa2));
    color:#000; box-shadow:0 18px 30px rgba(18,140,126,.45)
  }
  .empty{padding:32px; text-align:center; color:var(--muted)}
  /* quick view modal */
  .modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.6); z-index:999}
  .modal.show{display:grid}
  .modal-card{width:min(920px,92vw); background:#111; border:1px solid var(--stroke); border-radius:18px; padding:18px; display:grid; gap:14px}
  .modal-head{display:flex;justify-content:space-between;align-items:center}
  .x{background:#222;border:1px solid var(--stroke);color:#fff;border-radius:10px;padding:8px 10px;cursor:pointer}
</style>
</head>
<body>
<main class="wrap">
  <header class="head">
    <a class="brand" href="./relong-hub-v2.html">
      <svg class="logo" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 18L12 6l8 12" fill="none" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Re Long – Catalogo 3D
    </a>
    <div class="sub">Filtri live, hover 3D, WhatsApp già compilato</div>
  </header>

  <!-- Toolbar -->
  <section class="toolbar" aria-label="Filtri e ricerca">
    <div class="chips" id="brandChips"></div>
    <div class="searchRow">
      <input id="q" type="search" placeholder="Cerca modello…" aria-label="Cerca modello">
      <select id="sort" aria-label="Ordina">
        <option value="pop">Ordina: Popolari</option>
        <option value="priceAsc">Prezzo ↑</option>
        <option value="priceDesc">Prezzo ↓</option>
        <option value="nameAsc">Nome A→Z</option>
      </select>
      <span class="counter" id="count">—</span>
    </div>
  </section>

  <!-- Grid -->
  <section class="grid" id="grid" aria-live="polite"></section>
  <div class="empty" id="empty" hidden>Nessun risultato. Prova a rimuovere qualche filtro.</div>
</main>

<!-- Quick View Modal -->
<div class="modal" id="modal">
  <div class="modal-card">
    <div class="modal-head">
      <div style="font-weight:900" id="mvTitle">Modello</div>
      <button class="x" id="mvClose">Chiudi ✕</button>
    </div>
    <div class="meta" id="mvMeta"></div>
    <div class="thumb" style="height:280px"><img id="mvImg" alt="Anteprima"></div>
    <div class="price" id="mvPrice"></div>
    <div class="btns">
      <a class="btn" id="mvGo" href="#">Apri in WhatsApp</a>
      <button class="btn ghost" id="mvCopy">Copia richiesta</button>
    </div>
  </div>
</div>

<script>
/* --------- DATI (modifica qui) --------- */
const PRODUCTS = [
  // Esempi reali tuoi (puoi sostituire le immagini)
  { id:"sga17", brand:"Samsung", name:"Galaxy A17 256GB", price:315.00, badge:["new"], img:"", popularity:9 },
  { id:"ip17pro1tb", brand:"Apple", name:"iPhone 17 Pro 1TB", price:1993.00, badge:["hot"], img:"", popularity:10 },
  { id:"hon400lite", brand:"Honor", name:"Honor 400 Lite 256GB", price:159.90, badge:["best"], img:"", popularity:7 },
  { id:"op14f", brand:"OPPO", name:"OPPO 14F 256GB", price:255.90, badge:["new"], img:"", popularity:6 },
  { id:"s25fe", brand:"Samsung", name:"Galaxy S25 FE 256GB", price:773.90, badge:["hot"], img:"", popularity:8 },

  // Altri che avevamo citato
  { id:"sga56", brand:"Samsung", name:"Galaxy A56 5G", price:483.80, badge:["best"], img:"", popularity:6 },
  { id:"opA5pro", brand:"OPPO", name:"OPPO A5 Pro", price:255.90, badge:["new"], img:"", popularity:5 },
  { id:"ip17pm256", brand:"Apple", name:"iPhone 17 Pro Max 256GB", price:1657.80, badge:["hot"], img:"", popularity:9 },
  { id:"zfold7", brand:"Samsung", name:"Galaxy Z Fold 7 256GB", price:1977.00, badge:["hot"], img:"", popularity:8 },

  // Esempi placeholder—puoi cancellarli
  { id:"ip17air", brand:"Apple", name:"iPhone 17 Air 256GB", price:1299.00, badge:["new"], img:"", popularity:7 },
  { id:"honMagic", brand:"Honor", name:"Honor Magic V5", price:1499.00, badge:["best"], img:"", popularity:6 }
];
// Se non hai le immagini subito, lascia img:"" (verrà usata un’icona SVG).

/* --------- UTILS --------- */
const tel = "+3908119578844"; // WhatsApp e telefono Re Long
const grid = document.getElementById('grid');
const empty = document.getElementById('empty');
const q = document.getElementById('q');
const sortSel = document.getElementById('sort');
const countEl = document.getElementById('count');
const brandChips = document.getElementById('brandChips');

let activeBrand = "Tutti";
let query = "";
let sort = "pop";

const brands = ["Tutti", ...Array.from(new Set(PRODUCTS.map(p=>p.brand)))].sort((a,b)=> a==="Tutti"?-1: a.localeCompare(b));

function €(n){ return n.toLocaleString('it-IT',{style:'currency',currency:'EUR',maximumFractionDigits:2}) }

function waLink(p){
  const msg = `Ciao Re Long, vorrei info per questo smartphone:\n- Modello: ${p.name}\n- Brand: ${p.brand}\n- Prezzo indicativo: ${€(p.price)}\n\nMi aiuti a bloccarlo o a fare la miglior offerta?`;
  return `https://wa.me/${tel}?text=${encodeURIComponent(msg)}`;
}

function svgPlaceholder(){
  return `
  <svg width="120" height="120" viewBox="0 0 120 120" fill="none" aria-hidden="true">
    <rect x="10" y="10" width="100" height="100" rx="16" fill="#0f0f0f" stroke="rgba(255,255,255,.08)"/>
    <rect x="36" y="18" width="48" height="84" rx="10" fill="#1a1a1a" stroke="rgba(255,255,255,.08)"/>
    <circle cx="60" cy="26" r="3" fill="#2a2a2a"/>
  </svg>`;
}

function badgeHTML(arr){
  if(!arr) return "";
  return arr.map(b=>{
    if(b==="new") return `<span class="b new">NOVITÀ</span>`;
    if(b==="hot") return `<span class="b hot">HOT</span>`;
    if(b==="best") return `<span class="b best">BESTSELLER</span>`;
    return "";
  }).join("");
}

/* --------- RENDER --------- */
function renderBrands(){
  brandChips.innerHTML = "";
  brands.forEach(b=>{
    const bt = document.createElement('button');
    bt.className = 'chip';
    bt.textContent = b;
    bt.dataset.brand = b;
    if(b===activeBrand) bt.dataset.active="1";
    bt.addEventListener('click', ()=>{
      activeBrand = b;
      renderBrands(); render();
    });
    brandChips.appendChild(bt);
  });
}

function getFiltered(){
  let list = PRODUCTS.slice();
  if(activeBrand!=="Tutti") list = list.filter(p=>p.brand===activeBrand);
  if(query.trim()) {
    const t = query.trim().toLowerCase();
    list = list.filter(p=> (p.name+" "+p.brand).toLowerCase().includes(t));
  }
  // sort
  if(sort==="priceAsc") list.sort((a,b)=> a.price-b.price);
  else if(sort==="priceDesc") list.sort((a,b)=> b.price-a.price);
  else if(sort==="nameAsc") list.sort((a,b)=> a.name.localeCompare(b.name,'it'));
  else list.sort((a,b)=> (b.popularity??0)-(a.popularity??0)); // pop
  return list;
}

function productCard(p){
  const imgHTML = p.img
    ? `<img loading="lazy" decoding="async" src="${p.img}" alt="${p.name}">`
    : svgPlaceholder();
  return `
  <article class="card" data-id="${p.id}">
    <div class="badges">${badgeHTML(p.badge)}</div>
    <div class="thumb">${imgHTML}</div>
    <div class="title">${p.brand} • ${p.name}</div>
    <div class="meta"><span class="price">${€(p.price)}</span> <span>·</span> <span>Disponibile su richiesta</span></div>
    <div class="btns">
      <a class="btn" href="${waLink(p)}" target="_blank" rel="noopener">Apri WhatsApp</a>
      <button class="btn ghost" data-quick>Dettagli rapidi</button>
    </div>
  </article>`;
}

function render(){
  const list = getFiltered();
  countEl.textContent = `${list.length} modelli`;
  if(list.length===0){ grid.innerHTML=""; empty.hidden=false; return; }
  empty.hidden = true;
  grid.innerHTML = list.map(productCard).join("");

  // quick handlers
  grid.querySelectorAll('[data-quick]').forEach(btn=>{
    btn.addEventListener('click',(e)=>{
      const card = e.target.closest('.card');
      const id = card?.dataset.id;
      const p = PRODUCTS.find(x=>x.id===id);
      if(p) openModal(p);
    })
  });
}

/* --------- MODAL --------- */
const $modal = document.getElementById('modal');
const $mvTitle = document.getElementById('mvTitle');
const $mvMeta = document.getElementById('mvMeta');
const $mvImg = document.getElementById('mvImg');
const $mvPrice = document.getElementById('mvPrice');
const $mvGo = document.getElementById('mvGo');
const $mvCopy = document.getElementById('mvCopy');
const $mvClose = document.getElementById('mvClose');

function openModal(p){
  $mvTitle.textContent = `${p.brand} • ${p.name}`;
  $mvMeta.textContent = `Richiedi disponibilità, colori e tempi. Assistenza Re Long reale.`;
  if(p.img){ $mvImg.src = p.img; $mvImg.alt = p.name; }
  else { $mvImg.removeAttribute('src'); $mvImg.alt=""; $mvImg.outerHTML = svgPlaceholder(); }
  $mvPrice.textContent = `Prezzo indicativo: ${€(p.price)}`;
  $mvGo.href = waLink(p);
  $mvCopy.onclick = ()=> {
    const text = decodeURIComponent(waLink(p).split('text=')[1]||"");
    navigator.clipboard?.writeText(text);
    alert('Richiesta copiata. Incolla in WhatsApp!');
  };
  $modal.classList.add('show');
}
$mvClose.addEventListener('click', ()=> $modal.classList.remove('show'));
$modal.addEventListener('click', (e)=>{ if(e.target===$modal) $modal.classList.remove('show') });

/* --------- EVENTS --------- */
q.addEventListener('input', (e)=>{ query = e.target.value; render(); });
sortSel.addEventListener('change',(e)=>{ sort = e.target.value; render(); });

/* --------- BOOT --------- */
renderBrands(); render();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Re Long | Energia Riservata</title>

  <style>
    *{box-sizing:border-box;margin:0;padding:0;-webkit-font-smoothing:antialiased}
    :root{
      --bg1:#0f0f0f;--bg2:#000;--card:rgba(25,25,25,.9);--stroke:rgba(255,255,255,.07);
      --muted:rgba(255,255,255,.7);--muted2:rgba(255,255,255,.45);
      --brand1:#ff7b00;--brand2:#ff0000;--wa1:#25D366;--wa2:#128C7E;
      --glow:rgba(255,120,0,.15)
    }

    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Inter",Roboto,sans-serif;
      background:radial-gradient(circle at 20% 20%,var(--bg1) 0%,var(--bg2) 70%);
      color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px
    }

    .card{
      width:100%;max-width:390px;background:linear-gradient(150deg,var(--card) 0%,rgba(0,0,0,.6) 100%);
      border-radius:20px;padding:24px 20px 20px;position:relative;border:1px solid var(--stroke);
      box-shadow:0 30px 60px rgba(0,0,0,.9),0 0 60px var(--glow)
    }

    .badge{
      position:absolute;top:-12px;left:16px;background:linear-gradient(90deg,var(--brand1),var(--brand2));
      color:#000;font-size:11px;font-weight:700;padding:6px 10px;border-radius:999px;
      box-shadow:0 12px 24px rgba(255,80,0,.5);letter-spacing:-.02em;text-transform:uppercase
    }

    .brand{text-align:center;margin-bottom:16px}
    .brand-title{font-size:22px;font-weight:700;letter-spacing:-.04em}
    .brand-sub{font-size:11px;color:rgba(255,255,255,.6);margin-top:4px}

    .headline{text-align:center;margin:16px 0}
    .headline h1{font-size:23px;line-height:1.15;font-weight:800;letter-spacing:-.04em}
    .accent{background:linear-gradient(90deg,var(--brand1),var(--brand2));-webkit-background-clip:text;color:transparent}
    .subtitle{color:var(--muted);font-size:14px;line-height:1.4;margin-top:10px}

    .energy-box{
      background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);
      border-radius:16px;padding:16px;margin:20px 0
    }
    .energy-title{font-size:14px;font-weight:700;display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    .energy-left{display:flex;align-items:center;gap:8px}
    .tag-today{font-size:10px;font-weight:700;background:rgba(255,0,0,.12);color:#ff4d00;padding:4px 8px;border-radius:999px;border:1px solid rgba(255,77,0,.4)}

    /* --------- Lampadine 3D / Scelte --------- */
    .plans{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:6px}

    .plan{
      position:relative;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);
      border-radius:14px;padding:12px;cursor:pointer;transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
      isolation:isolate;overflow:hidden;will-change:transform
    }
    .plan:before{
      content:"";position:absolute;inset:-1px;border-radius:14px;
      background:radial-gradient(120px 60px at 0% 0%,rgba(255,123,0,.08),transparent 60%),
                 radial-gradient(120px 60px at 100% 100%,rgba(255,0,0,.06),transparent 60%);
      opacity:.6;pointer-events:none;transition:.25s ease
    }
    .plan:hover{transform:translateY(-2px);box-shadow:0 12px 30px rgba(0,0,0,.45)}
    .plan.inactive .bulb-3d{opacity:.6;filter:contrast(.95) brightness(.95)}
    .plan.active{border-color:rgba(255,190,0,.75);box-shadow:0 10px 44px rgba(255,170,0,.28)}
    .plan.active:before{opacity:1;background:
        radial-gradient(160px 80px at 0% 0%,rgba(255,200,0,.22),transparent 60%),
        radial-gradient(160px 80px at 100% 100%,rgba(255,70,0,.22),transparent 60%)}

    /* Micro-rimbalzo al clic */
    .plan.bounce{animation:plan-bounce .28s cubic-bezier(.3,.7,.2,1.1)}
    @keyframes plan-bounce{
      0%{transform:scale(1)}
      35%{transform:scale(1.06)}
      65%{transform:scale(.985)}
      100%{transform:scale(1)}
    }
    @media (prefers-reduced-motion: reduce){
      .plan{transition:none}
      .plan.bounce{animation:none}
    }

    .bulb-3d{width:56px;height:56px;margin-bottom:8px;display:inline-block}
    .plan h3{font-size:13px;letter-spacing:.02em;color:rgba(255,255,255,.88)}
    .plan .price{font-size:18px;font-weight:800;margin-top:2px;background:linear-gradient(90deg,#ffd54a,#ff7b00,#ff2a00);-webkit-background-clip:text;color:transparent}
    .plan small{display:block;margin-top:4px;color:var(--muted2);font-size:11px}

    /* Banner dinamico */
    .choice-banner{display:none;margin-top:14px;border-radius:14px;padding:12px 12px;
      background:linear-gradient(90deg,rgba(255,200,0,.12),rgba(255,80,0,.12));border:1px solid rgba(255,190,0,.35)}
    .choice-banner.show{display:block;animation:pop .18s ease-out}
    @keyframes pop{from{transform:scale(.98);opacity:.6}to{transform:scale(1);opacity:1}}

    .banner-title{font-size:13px;font-weight:700;letter-spacing:-.02em}
    .banner-sub{font-size:12px;color:var(--muted);margin-top:4px}
    .cta-inline{
      margin-top:10px;display:block;width:100%;text-align:center;font-size:15px;font-weight:800;
      background:radial-gradient(circle at 0% 0%,var(--wa1) 0%,var(--wa2) 60%);color:#000;text-decoration:none;
      padding:12px 14px;border-radius:12px;border:0;letter-spacing:-.03em;
      box-shadow:0 16px 28px rgba(18,140,126,.45),0 2px 4px rgba(0,0,0,.6) inset
    }
    .cta-hint{
      margin-top:6px;text-align:center;font-size:11px;line-height:1.3;
      color:rgba(255,255,255,.65)
    }

    /* Sezione 1-2-3 centrata */
    .steps{text-align:center;display:flex;flex-direction:column;gap:8px}
    .steps .riga{font-size:13px;line-height:1.45;color:rgba(255,255,255,.9)}
    .steps .riga strong{font-weight:800}

    /* CTA & footer */
    .cta-alt{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.15);border-radius:14px;padding:14px 16px;text-align:center;font-size:12px;color:rgba(255,255,255,.65)}
    .footer{text-align:center;margin-top:20px;font-size:11px;color:rgba(255,255,255,.4)}
    .legal{font-size:10px;color:rgba(255,255,255,.28);margin-top:12px}
    .glow{position:absolute;left:50%;transform:translateX(-50%);bottom:-40px;width:180px;height:60px;background:radial-gradient(circle,rgba(255,120,0,.45) 0%,rgba(0,0,0,0) 70%);filter:blur(30px);opacity:.6;pointer-events:none}

    @media (min-width:480px){.brand-title{font-size:24px}.headline h1{font-size:25px}}

    /* --- Animazione glow della lampadina accesa --- */
    .bulb-3d.lit .glass{fill:url(#gradGlassLit)}
    .bulb-3d.lit .filament{stroke:#ffb800}
    .bulb-3d.lit .inner-glow{opacity:.9;animation:pulse 1.35s ease-in-out infinite}
    .bulb-3d.lit .outer-glow{opacity:.8;animation:pulse 1.6s ease-in-out infinite}
    @keyframes pulse{
      0%,100%{filter:blur(7px);opacity:.7}
      50%{filter:blur(12px);opacity:1}
    }
  </style>
</head>
<body>
  <!-- Defs SVG condivisi (gradients e filters per 3D) -->
  <svg width="0" height="0" style="position:absolute">
    <defs>
      <!-- Metallo zoccolo -->
      <linearGradient id="gradMetal" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="#dcdcdc"/><stop offset=".22" stop-color="#9e9e9e"/>
        <stop offset=".5" stop-color="#6e6e6e"/><stop offset=".78" stop-color="#b8b8b8"/>
        <stop offset="1" stop-color="#7a7a7a"/>
      </linearGradient>

      <!-- Vetro spento -->
      <radialGradient id="gradGlass" cx="45%" cy="35%" r="70%">
        <stop offset="0" stop-color="#dfe6ff" stop-opacity=".28"/>
        <stop offset=".4" stop-color="#c2c8d8" stop-opacity=".16"/>
        <stop offset="1" stop-color="#9aa0b3" stop-opacity=".08"/>
      </radialGradient>

      <!-- Vetro acceso -->
      <radialGradient id="gradGlassLit" cx="48%" cy="38%" r="75%">
        <stop offset="0" stop-color="#fff5c2" stop-opacity=".95"/>
        <stop offset=".5" stop-color="#ffd55e" stop-opacity=".35"/>
        <stop offset="1" stop-color="#ff9b2e" stop-opacity:.2/>
      </radialGradient>

      <!-- Filamento -->
      <linearGradient id="gradFilament" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="#a86a00"/><stop offset="1" stop-color="#ffb300"/>
      </linearGradient>

      <!-- Riflessi/ombre -->
      <linearGradient id="gradEdge" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0" stop-color="#000" stop-opacity=".55"/>
        <stop offset=".5" stop-color="#000" stop-opacity:.15/>
        <stop offset="1" stop-color="#000" stop-opacity:.6/>
      </linearGradient>
      <radialGradient id="gradSpec" cx="25%" cy="20%" r="60%">
        <stop offset="0" stop-color="#ffffff" stop-opacity:.9/>
        <stop offset=".35" stop-color="#ffffff" stop-opacity:.25/>
        <stop offset="1" stop-color="#ffffff" stop-opacity="0"/>
      </radialGradient>

      <!-- Filtri -->
      <filter id="innerShadow" x="-20%" y="-20%" width="140%" height="140%">
        <feOffset dx="0" dy="1" /><feGaussianBlur stdDeviation="1.4" result="b"/>
        <feComposite in="SourceGraphic" in2="b" operator="arithmetic" k2="-1" k3="2" />
        <feColorMatrix type="matrix"
          values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 .9 0"/>
      </filter>
      <filter id="drop" x="-30%" y="-30%" width="160%" height="160%">
        <feDropShadow dx="0" dy="4" stdDeviation="3" flood-color="#000" flood-opacity=".7"/>
      </filter>
      <filter id="glow" x="-80%" y="-80%" width="260%">
        <feGaussianBlur stdDeviation="7" result="b"/>
        <feMerge><feMergeNode in="b"/><feMergeNode in="b"/><feMergeNode in="b"/></feMerge>
      </filter>

      <!-- Simbolo lampadina 3D -->
      <symbol id="bulb3D" viewBox="0 0 64 64">
        <g class="outer-glow" style="opacity:0">
          <ellipse cx="32" cy="26" rx="22" ry="22" fill="#ffc529" filter="url(#glow)"/>
        </g>

        <!-- Vetro -->
        <path class="glass" d="M32 4c10.5 0 19 8.5 19 19 0 6.2-2.9 10.6-6.7 14-2.1 1.8-3.3 4.5-3.3 7.3v.7H23v-.7c0-2.8-1.2-5.5-3.3-7.3C15.9 33.6 13 29.2 13 23 13 12.5 21.5 4 32 4z"
              fill="url(#gradGlass)" filter="url(#innerShadow)"/>
        <path d="M32 4c10.5 0 19 8.5 19 19 0 6.2-2.9 10.6-6.7 14" fill="url(#gradSpec)" opacity=".5"/>

        <!-- Filamento + supporti -->
        <g class="filament-group" transform="translate(0,4)">
          <path class="filament" d="M26 28c4-4 8-4 12 0" fill="none" stroke="url(#gradFilament)" stroke-width="2.2" stroke-linecap="round"/>
          <path d="M24 30h4m8 0h4" stroke="#9aa0b3" stroke-width="1.2" stroke-linecap="round" opacity=".8"/>
        </g>

        <!-- Colletto metallo -->
        <g transform="translate(0,28)">
          <rect x="22" y="22" width="20" height="6" rx="2" fill="url(#gradMetal)" filter="url(#drop)"/>
          <rect x="22" y="29" width="20" height="4" rx="2" fill="url(#gradMetal)"/>
          <rect x="24" y="33" width="16" height="4" rx="2" fill="url(#gradMetal)"/>
        </g>

        <!-- Bagliore interno -->
        <g class="inner-glow" style="opacity:.0">
          <ellipse cx="32" cy="22" rx="10" ry="9" fill="#ffd86b" filter="url(#glow)"/>
        </g>
      </symbol>
    </defs>
  </svg>

  <div class="card">
    <div class="badge">ACCESSO RISERVATO</div>

    <div class="brand">
      <div class="brand-title">Re Long&nbsp;Informatica</div>
      <div class="brand-sub">Telefonia â€¢ Energia â€¢ Assistenza PC</div>
    </div>

    <div class="headline">
      <h1>Area <span class="accent">Energia Riservata</span> ðŸ”¥</h1>
      <p class="subtitle">Stai pagando troppo la CORRENTE?<br/>Noi abbassiamo la tua bolletta passando a Fastweb Vodafone Energia.</p>
    </div>

    <!-- Lampadine / Scelte -->
    <div class="energy-box">
      <div class="energy-title">
        <div class="energy-left"><span class="icon" aria-hidden="true">ðŸ’¡</span><span>Scegli il tuo profilo di consumo</span></div>
        <div class="tag-today">Clicca e scegli la tua offerta</div>
      </div>

      <div class="plans" id="plans">
        <button class="plan inactive" data-kwh="1500" data-price="â‚¬35/mese" data-label="1500 kWh/anno â€” â‚¬35/mese" aria-label="1500 kWh anno, 35 euro mese">
          <span class="bulb-3d" aria-hidden="true"><svg viewBox="0 0 64 64"><use href="#bulb3D"/></svg></span>
          <h3>1500 kWh/anno</h3><div class="price">â‚¬35/mese</div><small>Ideale per single / giovani coppie</small>
        </button>

        <button class="plan inactive" data-kwh="2500" data-price="â‚¬55/mese" data-label="2500 kWh/anno â€” â‚¬55/mese" aria-label="2500 kWh anno, 55 euro mese">
          <span class="bulb-3d" aria-hidden="true"><svg viewBox="0 0 64 64"><use href="#bulb3D"/></svg></span>
          <h3>2500 kWh/anno</h3><div class="price">â‚¬55/mese</div><small>Famiglia media</small>
        </button>

        <button class="plan inactive" data-kwh="4000" data-price="â‚¬85/mese" data-label="4000 kWh/anno â€” â‚¬85/mese" aria-label="4000 kWh anno, 85 euro mese">
          <span class="bulb-3d" aria-hidden="true"><svg viewBox="0 0 64 64"><use href="#bulb3D"/></svg></span>
          <h3>4000 kWh/anno</h3><div class="price">â‚¬85/mese</div><small>Casa grande / pompe di calore</small>
        </button>

        <button class="plan inactive" data-kwh="personalizzata" data-price="â€”" data-label="Offerta personalizzata" aria-label="Componi la tua offerta">
          <span class="bulb-3d" aria-hidden="true"><svg viewBox="0 0 64 64"><use href="#bulb3D"/></svg></span>
          <h3>Componi la tua offerta</h3><div class="price">Su misura</div><small>Indica esigenze e fasce orarie</small>
        </button>
      </div>

      <!-- Banner dinamico -->
      <div id="choiceBanner" class="choice-banner" role="region" aria-live="polite">
        <div class="banner-title">ðŸ’¡ Selezione attiva: <span id="choiceText">â€”</span></div>
        <div class="banner-sub">Clicca sotto: invia la tua bolletta e procedi con lâ€™attivazione dellâ€™offerta selezionata.</div>
        <a id="whatsAppCTA" class="cta-inline" href="#" target="_blank" rel="noopener noreferrer">
          Invia la FOTO della bolletta su WhatsApp per ATTIVARE questa offerta
        </a>
        <div class="cta-hint">Risposta diretta dal negozio â€¢ 08119578844</div>
      </div>
    </div>

    <!-- Sezione 1-2-3, centrata -->
    <div class="energy-box">
      <div class="steps">
        <div class="riga"><strong>1.</strong> Fotografa la tua ultima bolletta luce</div>
        <div class="riga"><strong>2.</strong> Inviacela su WhatsApp adesso</div>
        <div class="riga"><strong>3.</strong> Ti diciamo se puoi pagare meno prima di firmare qualsiasi contratto</div>
      </div>
    </div>

    <div class="footer">
      Mostra questa schermata in negozio per bloccare il tuo vantaggio.
      <div class="legal">Offerta legata ai clienti di Re Long Informatica.</div>
    </div>

    <div class="glow" aria-hidden="true"></div>
  </div>

  <script>
    (function(){
      const plans = document.querySelectorAll('.plan');
      const banner = document.getElementById('choiceBanner');
      const choiceText = document.getElementById('choiceText');
      const waCTA = document.getElementById('whatsAppCTA');

      function setLit(svgEl, lit){
        const root = svgEl.closest('.bulb-3d');
        if(!root) return;
        if(lit){ root.classList.add('lit'); }
        else{ root.classList.remove('lit'); }
      }

      function buildMessage(label){
        const base = "Ciao Re Long, vorrei attivare lâ€™offerta energia selezionata.";
        const choose = ` Ho scelto: ${label}.`;
        const ask = " Ti invio ORA la foto della bolletta per procedere.";
        return encodeURIComponent(base + choose + ask);
      }

      function updateBanner(label){
        choiceText.textContent = label;
        const text = buildMessage(label);
        // WhatsApp ufficiale: 08119578844 (formato wa.me: +39 08119578844 -> 3908119578844)
        waCTA.href = `https://wa.me/3908119578844?text=${text}`;
        banner.classList.add('show');
        banner.scrollIntoView({behavior:'smooth',block:'center'});
      }

      function bounce(el){
        el.classList.remove('bounce'); // reset se spammato
        // forzare reflow per riavviare l'animazione
        void el.offsetWidth;
        el.classList.add('bounce');
        el.addEventListener('animationend', ()=> el.classList.remove('bounce'), {once:true});
      }

      plans.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          plans.forEach(p=>{
            p.classList.remove('active'); p.classList.add('inactive');
            const svg = p.querySelector('.bulb-3d svg');
            if(svg) setLit(svg,false);
          });

          btn.classList.add('active'); btn.classList.remove('inactive');
          const svg = btn.querySelector('.bulb-3d svg');
          if(svg) setLit(svg,true);

          const label = btn.dataset.label || 'Offerta personalizzata';
          updateBanner(label);

          // Micro-rimbalzo
          bounce(btn);
        }, {passive:true});
      });
    })();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Re Long Informatica, Telefonia, Energia & Assistenza PC</title>
  <meta name="description" content="Hub Re Long: Smartphone a rate senza busta paga, offerte Business, Energia Casa e Assistenza PC. Marano di Napoli. Tel 08119578844.">
  <meta name="theme-color" content="#0a0a0a">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Re Long Informatica ‚Äì Telefonia, Energia & Assistenza PC">
  <meta property="og:description" content="Smartphone a rate, Offerte Business, Energia Casa e Assistenza PC. Tel: 08119578844.">
  <meta property="og:url" content="https://alessandroiascone.github.io/relong-nfc/relong-hub-v2.html">
  <meta property="og:image" content="https://alessandroiascone.github.io/relong-nfc/og-cover.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Re Long Informatica">
  <meta name="twitter:description" content="Smartphone a rate, Energia, Business, Assistenza PC.">
  <meta name="twitter:image" content="https://alessandroiascone.github.io/relong-nfc/og-cover.jpg">

  <!-- SEO extras -->
  <link rel="canonical" href="https://alessandroiascone.github.io/relong-nfc/relong-hub-v2.html">
  <meta name="robots" content="index,follow,max-image-preview:large">
  <link rel="apple-touch-icon" sizes="180x180" href="https://alessandroiascone.github.io/relong-nfc/og-cover.jpg">

  <!-- Favicon inline -->
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 256 256'%3E%3Crect width='256' height='256' rx='56' fill='%230a0a0a'/%3E%3Cpath d='M60 176l68-96l68 96' fill='none' stroke='%23ff3b1a' stroke-width='20' stroke-linecap='round' stroke-linejoin='round'/%3E%3Ccircle cx='128' cy='96' r='14' fill='%23ff9a1a'/%3E%3C/svg%3E" />
  <link rel="preconnect" href="https://wa.me">
  <link rel="preconnect" href="https://maps.app.goo.gl">
  <link rel="preconnect" href="https://www.google.com">
  <!-- Performance hints -->
  <link rel="dns-prefetch" href="https://alessandroiascone.github.io">
  <link rel="prefetch" href="./catalogo-smartphone-reale-v3.html" as="document" crossorigin>

  <style>
    *{box-sizing:border-box;margin:0;padding:0;-webkit-font-smoothing:antialiased}
    :root{
      --bg1:#0a0a0a;--bg2:#000;--brand1:#ff0000;--brand2:#ff7b00;
      --muted:rgba(255,255,255,.72);--muted2:rgba(255,255,255,.5);
      --card:rgba(20,20,20,.94);--stroke:rgba(255,255,255,.08);
      --wa1:#25D366;--wa2:#128C7E;--focus:#ffd166
    }
    @keyframes fadeUp{0%{opacity:0;transform:translateY(14px)}100%{opacity:1;transform:translateY(0)}}
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}
    @keyframes titleGlow{0%{text-shadow:none;opacity:.85}60%{text-shadow:0 0 18px rgba(255,122,0,.35),0 0 34px rgba(255,80,0,.18);opacity:1}100%{text-shadow:none;opacity:1}}
    @keyframes strokeDash {from{stroke-dashoffset:150;opacity:.8} to{stroke-dashoffset:0;opacity:1}}
    @keyframes loaderAutoHide {to{opacity:0;visibility:hidden}}
    @media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}

    :focus-visible{outline:3px solid var(--focus); outline-offset:2px; border-radius:12px}
    a.btn:focus-visible,.fab-btn:focus-visible{filter:brightness(1.08)}

    /* Loader */
    #rl-loader{
      position:fixed;inset:0;z-index:99999;display:grid;place-items:center;
      background:radial-gradient(circle at 20% 20%, var(--bg1) 0%, var(--bg2) 70%);
      transition:opacity .45s ease, visibility .45s ease;
      animation: loaderAutoHide 0s linear 3.2s forwards;
    }
    #rl-loader.hidden{opacity:0;visibility:hidden}
    .rl-loading-text{margin-top:18px;font:700 12px/1.2 system-ui,-apple-system,Inter,Roboto,sans-serif;color:rgba(255,255,255,.75);letter-spacing:.06em;text-transform:uppercase}
    .rl-cube{position:relative;width:84px;height:84px;transform-style:preserve-3d;animation:rl-rotate 2.6s linear infinite;filter:drop-shadow(0 16px 42px rgba(255,90,0,.35))}
    .rl-cube .face{position:absolute;inset:0;background:linear-gradient(135deg,var(--brand1),var(--brand2));border:1px solid rgba(255,255,255,.12);border-radius:10px;opacity:.96}
    .rl-cube .f1{transform:translateZ(42px)} .rl-cube .f2{transform:rotateY(180deg) translateZ(42px)}
    .rl-cube .f3{transform:rotateY(90deg) translateZ(42px)} .rl-cube .f4{transform:rotateY(-90deg) translateZ(42px)}
    .rl-cube .f5{transform:rotateX(90deg) translateZ(42px)} .rl-cube .f6{transform:rotateX(-90deg) translateZ(42px)}
    @keyframes rl-rotate{0%{transform:rotateX(-18deg) rotateY(0)}50%{transform:rotateX(18deg) rotateY(180deg)}100%{transform:rotateX(-18deg) rotateY(360deg)}}

    /* Body + micro-noise (10) */
    body{
      font-family:system-ui,-apple-system,Inter,Roboto,sans-serif;
      background:radial-gradient(circle at 20% 20%,var(--bg1) 0%, var(--bg2) 70%);
      color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;position:relative;overflow-x:hidden
    }
    body::before{
      content:"";position:fixed;inset:auto;left:50%;top:40%;
      transform:translateX(-50%);width:1200px;height:1200px;border-radius:50%;
      background:radial-gradient(circle, rgba(255,120,0,.12) 0%, rgba(255,120,0,0) 60%);
      filter:blur(6px);pointer-events:none;z-index:0
    }
    /* micro-noise overlay */
    body::after{
      content:"";position:fixed;inset:0;pointer-events:none;z-index:0;
      opacity:.035;
      background-image:
        radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.25) 0, rgba(0,0,0,0) 100%),
        radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,.2) 0, rgba(0,0,0,0) 100%),
        radial-gradient(1px 1px at 70% 30%, rgba(255,255,255,.18) 0, rgba(0,0,0,0) 100%),
        radial-gradient(1px 1px at 90% 60%, rgba(255,255,255,.22) 0, rgba(0,0,0,0) 100%);
      animation: noiseShift 6s ease-in-out infinite alternate;
    }
    @keyframes noiseShift{
      from{opacity:.03; transform:translateY(0)}
      to{opacity:.05; transform:translateY(-1.2%)}
    }

    .wrap{width:100%;max-width:920px;display:grid;gap:22px;padding-bottom:110px;position:relative;z-index:1}
    @media(max-width:480px){.wrap{padding-bottom:130px}}

    .head{text-align:center;padding:8px 8px 0 8px}
    .brand{display:inline-flex;gap:10px;align-items:center;font-size:24px;font-weight:900;letter-spacing:-.04em;animation:fadeUp .5s ease both}
    .brand .logo{width:24px;height:24px;display:inline-block}
    .brand .logo path{stroke-dasharray:150;stroke-dashoffset:150;animation:strokeDash .6s ease forwards .15s}
    /* (8) glow periodico sul logo */
    @keyframes logoGlow {
      0% { filter:none; }
      10% { filter:drop-shadow(0 0 10px rgba(255,90,0,.5)) drop-shadow(0 0 20px rgba(255,140,0,.35)); }
      20% { filter:none; }
      100%{ filter:none; }
    }
    .brand .logo{ animation: logoGlow 12s ease-in-out infinite; }

    .sub{font-size:12px;color:var(--muted);margin-top:4px;animation:fadeUp .6s ease both, titleGlow 1.2s ease .9s 1}

    /* Hero + (1) soft parallax glow */
    .hero{margin-top:4px;display:flex;flex-direction:column;gap:6px;align-items:center;text-align:center;position:relative}
    .hero h1{font-size:18px;font-weight:900;letter-spacing:-.01em}
    .hero p{font-size:13px;color:var(--muted)}
    .hero .line{width:86%;max-width:560px;height:1px;background:linear-gradient(90deg,transparent,#ff7b00 40%,#ff0000 60%,transparent);opacity:.35;border-radius:999px}
    .hero::after{
      content:""; position:absolute; top:-30px; left:50%; width:min(900px,88vw); height:240px; transform:translateX(-50%);
      background: radial-gradient(120px 220px at var(--hx,50%) 50%, rgba(255,120,0,.18), rgba(0,0,0,0) 70%),
                  radial-gradient(220px 160px at calc(100% - var(--hx,50%)) 60%, rgba(255,0,0,.12), rgba(0,0,0,0) 72%);
      filter: blur(14px);
      pointer-events:none; z-index:0; opacity:.6; transition:opacity .3s ease;
      animation: heroDrift 9s ease-in-out infinite alternate;
    }
    @keyframes heroDrift{
      from{transform:translateX(-52%) translateY(0)}
      to{transform:translateX(-48%) translateY(2px)}
    }

    /* Griglia */
    .grid{display:grid;grid-template-columns:1fr;gap:16px}
    @media(min-width:720px){.grid{grid-template-columns: 1fr 1fr}}
    @media(min-width:1024px){.grid{grid-template-columns: 1fr 1fr 1fr}}

    /* Card base */
    .card{
      position:relative;background:linear-gradient(150deg,var(--card) 0%,rgba(0,0,0,.6) 100%);
      border:1px solid var(--stroke);border-radius:18px;padding:18px;
      box-shadow:0 24px 56px rgba(0,0,0,.85),0 0 60px rgba(255,0,0,.14);
      display:flex;flex-direction:column;gap:10px;transition:transform .28s ease, box-shadow .28s ease, border-color .28s ease, filter .28s ease;
      transform-style:preserve-3d; will-change: transform;
    }
    .card[data-anim]{opacity:0;transform:translateY(18px)}
    .card.in{opacity:1;transform:none;animation:fadeUp .6s ease both}

    /* (5) Card 3D PRO via variabili CSS */
    .card{
      --rx: 0deg; --ry: 0deg; --tz: 0px;
      transform: perspective(1100px) rotateX(var(--rx)) rotateY(var(--ry)) translateZ(var(--tz));
    }
    .card._hover{
      --tz: 10px;
      box-shadow:0 36px 84px rgba(0,0,0,.92), 0 0 90px rgba(255,59,0,.22);
      border-color:rgba(255,255,255,.18)
    }

    .badge{position:absolute;top:-11px;left:14px;color:#000;font-size:11px;font-weight:800;padding:6px 10px;border-radius:999px;box-shadow:0 10px 18px rgba(255,80,0,.45);animation:pulse 2.2s ease-in-out infinite;border:1px solid rgba(0,0,0,.06)}
    article.card:nth-of-type(1) .badge{background:linear-gradient(90deg,#ff2a2a,#ffd166)}
    article.card:nth-of-type(2) .badge{background:linear-gradient(90deg,#00b4d8,#0077b6)}
    article.card:nth-of-type(3) .badge{background:linear-gradient(90deg,#ffd166,#ffb703)}
    article.card:nth-of-type(4) .badge{background:linear-gradient(90deg,#a78bfa,#7c3aed)}

    /* (2) Micro-spark sul badge ENERGIA CASA (3^ card) */
    article.card:nth-of-type(3) .badge{
      position:relative; overflow:visible;
    }
    @keyframes spark {
      0% { transform:translate(-12px, -6px) scale(.9); opacity:0; }
      8% { opacity:.9; }
      50%{ opacity:.9; }
      100%{ transform:translate(46px, -12px) scale(1.1); opacity:0; }
    }
    article.card:nth-of-type(3) .badge::after{
      content:""; position:absolute; top:50%; left:0;
      width:22px; height:10px; border-radius:20px;
      background: radial-gradient(circle at 30% 50%, rgba(255,183,3,.85), rgba(255,255,255,.75) 45%, rgba(255,183,3,.0) 70%);
      filter: blur(1px);
      transform: translate(-12px,-50%);
      opacity:0;
      animation: spark 12s ease-in-out infinite;
      animation-delay: 2.2s;
      pointer-events:none;
    }
    @media (prefers-reduced-motion:reduce){
      article.card:nth-of-type(3) .badge::after{ animation: none !important; }
    }

    .title{font-size:18px;font-weight:800;display:flex;gap:8px;align-items:center}
    .title .ico{font-size:18px}
    .desc{font-size:13px;color:var(--muted);line-height:1.45}
    .btn{display:block;text-decoration:none;text-align:center;padding:12px 14px;border-radius:14px;font-size:14px;font-weight:800;color:#000;background:linear-gradient(90deg,#ff0000,#ff7b00);box-shadow:0 16px 26px rgba(255,90,0,.35);transition: transform .22s ease, box-shadow .22s ease, filter .22s ease;transform-style:preserve-3d}
    .btn:hover{transform:perspective(700px) translateZ(12px) scale(1.06) rotateX(2deg);box-shadow:0 28px 44px rgba(255,90,0,.5);filter:brightness(1.05)}
    .btn.wa{background:radial-gradient(circle at 0% 0%, var(--wa1), var(--wa2));box-shadow:0 18px 30px rgba(18,140,126,.45)}

    .footer{text-align:center;color:var(--muted2);font-size:11px;margin-top:10px}
    .footer a{color:var(--muted2);text-decoration:none}

    /* FAB & Torna su */
    .fab-nav{position:fixed;right:16px;bottom:calc(16px + env(safe-area-inset-bottom));display:flex;flex-direction:column;gap:12px;z-index:9999}
    .fab-btn{display:flex;align-items:center;gap:10px;background:radial-gradient(circle at 0% 0%,var(--wa1),var(--wa2));color:#000;text-decoration:none;font-weight:900;border-radius:50px;padding:12px 16px;box-shadow:0 20px 34px rgba(18,140,126,.45);transition:all .22s ease;transform-style:preserve-3d;animation:pulse 2.8s ease-in-out infinite}
    .fab-btn:hover{transform:perspective(700px) translateZ(10px) scale(1.06);filter:brightness(1.05);box-shadow:0 28px 44px rgba(18,140,126,.65)}
    .fab-btn svg{width:18px;height:18px}
    @media(max-width:420px){.fab-btn span{display:none}}

    .to-top{position:fixed;left:16px;bottom:calc(16px + env(safe-area-inset-bottom));opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:9999}
    .to-top.show{opacity:1;pointer-events:auto}
    .to-top a{display:flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;background:linear-gradient(90deg,var(--brand1),var(--brand2));color:#000;font-weight:900;box-shadow:0 16px 28px rgba(255,90,0,.35);text-decoration:none}

    .toast{position:fixed;left:50%;bottom:calc(24px + env(safe-area-inset-bottom));transform:translateX(-50%);background:#161616;border:1px solid rgba(255,255,255,.12);color:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 10px 24px rgba(0,0,0,.5);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:9999}

    /* ===== Bottom Seasonal Bar ===== */
    .seasonbar{
      position:fixed;left:0;right:0;bottom:0;z-index:90;display:flex;align-items:center;gap:.75rem;justify-content:center;padding:.85rem 1rem;background:linear-gradient(90deg, rgba(255,59,26,.92), rgba(255,123,0,.92));color:#fff;text-decoration:none;font-weight:700;border-top:1px solid rgba(255,255,255,.18);backdrop-filter:saturate(1.2) blur(6px)
    }
    .seasonbar__icon{ animation:pulse 1.2s infinite }
    .seasonbar__cta{ margin-left:.5rem; padding:.35rem .6rem; border-radius:.6rem; background:rgba(0,0,0,.22); border:1px solid rgba(255,255,255,.28); font-weight:800 }

    /* Offset quando la barra stagionale √® presente (no sovrapposizione) */
    body.has-seasonbar .to-top{ bottom: calc(96px + env(safe-area-inset-bottom)) !important; }
    body.has-seasonbar .fab-nav{ bottom: calc(96px + env(safe-area-inset-bottom)) !important; }

    /* Badge forzati via ID */
    #biz-mobile .badge{
      background:linear-gradient(90deg,#10B981,#84CC16);
      box-shadow:0 10px 18px rgba(16,185,129,.35);
    }
    #season-card .badge{
      background:linear-gradient(90deg,#ff0000,#ff7b00);
    }

    /* Brand link style normalization */
    .brand, .brand:visited, .brand:hover {
      color:#ffffff !important; text-decoration:none !important;
    }
  </style>
</head>
<body>

  <!-- Loader -->
  <div id="rl-loader" aria-label="Caricamento in corso" role="status">
    <div class="rl-cube">
      <span class="face f1"></span><span class="face f2"></span><span class="face f3"></span>
      <span class="face f4"></span><span class="face f5"></span><span class="face f6"></span>
    </div>
    <p class="rl-loading-text">Caricamento‚Ä¶</p>
  </div>
  <script>
    (function(){
      function hideNow(){
        var ld = document.getElementById('rl-loader');
        if(ld){ ld.classList.add('hidden'); setTimeout(function(){ try{ ld.remove(); }catch(e){} }, 600); }
      }
      if(document.readyState!=='loading'){ hideNow(); }
      window.addEventListener('load', hideNow, {once:true});
      setTimeout(hideNow, 3200);
    })();
  </script>

  <main class="wrap">
    <header class="head">
      <!-- Brand cliccabile verso la Home dell'hub -->
      <a class="brand" href="./relong-hub-v2.html" rel="home">
        <svg class="logo" viewBox="0 0 24 24" aria-hidden="true">
          <defs><linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#ff0000"/><stop offset="100%" stop-color="#ff7b00"/></linearGradient></defs>
          <path d="M4 18L12 6l8 12" fill="none" stroke="url(#g1)" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Re Long Telefonia, Energia & Assistenza PC
      </a>
      <div class="sub">Clicca sulla sezione di interesse</div>

      <div class="hero" aria-hidden="false">
        <div class="line" aria-hidden="true"></div>
        <h1>Benvenuti</h1>
        <p>Pi√π valore ad ogni decisione. Seleziona l‚Äôarea: al resto pensiamo noi<strong> con cura e precisione</strong>.</p>
      </div>
    </header>

    <section class="grid" aria-label="Collegamenti rapidi Re Long">
      <article class="card" data-anim>
        <div class="badge">SMARTPHONE A RATE</div>
        <div class="title"><span class="ico">üì±</span><span>Scegli il tuo Smartphone</span></div>
        <p class="desc">Finanziamento Vodafone & Compass senza busta paga con rate flessibili.</p>
        <a class="btn" href="./catalogo-smartphone-reale-v3.html">üì± Catalogo Digitale</a>
        <a class="btn wa" href="https://wa.me/3908119578844">Scrivici su WhatsApp</a>
      </article>

      <article class="card" data-anim>
        <div class="badge">AZIENDE & P.IVA FULL PACK</div>
        <div class="title"><span class="ico">üßæ</span><span>Fisso + Mobile con Energia per P.IVA</span></div>
        <p class="desc">Soluzioni per Partite IVA e Aziende.</p>
        <a class="btn" href="./Business+Energy2.html">Scopri l'offerta</a>
        <a class="btn wa" href="https://wa.me/3908119578844">Chatta con un consulente Business</a>
      </article>

      <article class="card" data-anim>
        <div class="badge">ENERGIA CASA</div>
        <div class="title"><span class="ico">‚ö°</span><span>Accendi la tua Energia</span></div>
        <p class="desc">Invia la foto della tua bolletta per una verifica immediata.</p>
        <a class="btn" href="./index.html">Vai all‚ÄôArea Energia</a>
        <a class="btn wa" href="https://wa.me/3908119578844">Inviaci la tua Bolletta</a>
      </article>

      <article class="card" data-anim>
        <div class="badge">ASSISTENZA PC</div>
        <div class="title"><span class="ico">üß∞</span><span>Riparazioni & Upgrade</span></div>
        <p class="desc">Diagnosi immediata e upgrade su misura.</p>
        <a class="btn" href="./assistenza.html">Vai all‚Äôassistenza PC</a>
        <a class="btn wa" href="https://wa.me/3908119578844">Chatta con l'assistenza Tecnica</a>
      </article>

      <!-- BUSINESS MOBILI -->
      <article class="card" data-anim id="biz-mobile">
        <div class="badge">OFFERTE AZIENDE & P.IVA PER SMARTPHONE</div>
        <div class="title"><span class="ico">üì≤</span><span>Offerte Business Mobili</span></div>
        <p class="desc">Piani dedicati ad Aziende e Partite IVA</p>
        <a class="btn" href="./business.html">üì≤ Scopri offerte Mobili Business</a>
        <a class="btn wa" href="https://wa.me/3908119578844">Chatta con un Consulente Business</a>
      </article>

      <!-- STAGIONALE -->
      <article class="card" data-anim id="season-card">
        <div class="badge" id="season-badge">BLACK FRIDAY</div>
        <div class="title"><span class="ico">‚ö°</span><span id="season-title">Black Friday ReLong</span></div>
        <p class="desc" id="season-desc">Offerte flash reali su TV, Console, Smartphone ed Energia. Valide per poco!</p>
        <a class="btn" id="season-link" href="./black-friday.html" aria-label="Vai alla pagina stagionale">Vai alle Offerte Black Friday</a>
        <a class="btn wa" href="https://wa.me/3908119578844?text=Ciao%20Re%20Long!%20Ho%20visto%20le%20offerte%20Black%20Friday%20e%20vorrei%20bloccarne%20una.">Blocca ora su WhatsApp</a>
      </article>
    </section>

    <p class="footer">
      <a href="https://maps.app.goo.gl/dwpNWoUwFQD4NppU6" target="_blank" rel="noopener">üìç Via Casalanno 31, Marano di Napoli</a>
      ‚Ä¢
      <a href="tel:+3908119578844">‚òéÔ∏è 08119578844</a>
    </p>
  </main>

  <div class="toast" role="status" aria-live="polite"></div>

  <script>
    // URL della Home corretta dell'hub
    const HOME_PAGE = './relong-hub-v2.html';

    /* to-top */
    (function(){
      const toTop = document.createElement('div');
      toTop.className = 'to-top';
      toTop.innerHTML = `<a href="#" aria-label="Torna su">‚¨ÜÔ∏è Torna su</a>`;
      document.body.appendChild(toTop);
      const onScroll = ()=>{ (window.scrollY > 250) ? toTop.classList.add('show') : toTop.classList.remove('show'); };
      window.addEventListener('scroll', onScroll, {passive:true}); onScroll();
    })();

    function showToast(msg){
      let t = document.querySelector('.toast');
      if(!t){ t = document.createElement('div'); t.className='toast'; document.body.appendChild(t); }
      t.textContent = msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 2200);
    }

    /* Navigazione interna sicura + fallback sempre alla Home dell‚Äôhub */
    document.addEventListener('click', async (e)=>{
      const a = e.target.closest('a'); if(!a) return;
      const href = a.getAttribute('href')||'';
      const isSpecial = /^(tel:|mailto:|sms:|geo:|maps:|itms:|intent:|whatsapp:)/i.test(href) || href.includes('wa.me');
      if(isSpecial) return;
      let url;
      try{ url = new URL(a.href, location.href); }catch(_){ return; }
      const isInternal = (url.protocol==='http:'||url.protocol==='https:') && url.origin===location.origin && /\.html?$/.test(url.pathname);
      if(isInternal){
        e.preventDefault();
        try{
          const res = await fetch(url.href, {method:'GET', cache:'no-store', redirect:'follow'});
          if(res.ok){ location.href = url.href; }
          else { showToast('Pagina non trovata. Torno alla Home.'); setTimeout(()=>location.href = HOME_PAGE, 800); }
        }catch(_){
          showToast('Impossibile aprire la pagina. Torno alla Home.'); setTimeout(()=>location.href = HOME_PAGE, 1000);
        }
      }
    }, false);

    // Normalizza link root per puntare sempre alla home dell‚Äôhub
    document.addEventListener('DOMContentLoaded', ()=>{
      document.querySelectorAll('a[href="/"], a[href="./"]').forEach(a=>{
        a.setAttribute('href', HOME_PAGE);
      });
      document.querySelectorAll('a[rel~="home"]').forEach(a=>{
        a.setAttribute('href', HOME_PAGE);
      });
    });

    /* Animazioni on-scroll */
    (function(){
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach(en=>{ if(en.isIntersecting){ en.target.classList.add('in'); obs.unobserve(en.target); } });
      }, {threshold:.18});
      document.querySelectorAll('[data-anim]').forEach(el=>obs.observe(el));
    })();

    /* Switch automatico testo card + barra stagionale */
    (function(){
      const now = new Date();
      const m = now.getMonth()+1, d = now.getDate();
      let season = "blackfriday";
      if (m === 12 && d >= 8) season = "christmas";
      if (m === 1) season = "flash";

      const copy = {
        blackfriday:{
          badge:"BLACK FRIDAY",
          title:"Black Friday ReLong",
          desc:"Offerte flash reali su TV, Console, Smartphone ed Energia. Valide per poco!",
          btn:"Vai alle Offerte Black Friday",
          href:"./black-friday.html",
          bar:"<b>Offerte Black Friday ReLong</b> ‚Äî sconti a tempo limitato",
          barHref:"./black-friday.html"
        },
        christmas:{
          badge:"NATALE",
          title:"Christmas Promo üéÑ",
          desc:"Regali tech e risparmio su TV, Console, Smartphone ed Energia. Disponibilit√† limitata.",
          btn:"Scopri le Offerte di Natale",
          href:"./black-friday.html?season=christmas",
          bar:"<b>Offerte di Natale üéÑ</b> ‚Äî idee regalo & promo",
          barHref:"./black-friday.html?season=christmas"
        },
        flash:{
          badge:"FLASH",
          title:"Offerte Flash ‚ö°",
          desc:"Promo rapide su smartphone, accessori ed energia. Fino ad esaurimento scorte.",
          btn:"Vedi le Offerte Flash",
          href:"./black-friday.html?season=flash",
          bar:"<b>Offerte Flash ‚ö°</b> ‚Äî sconti lampo",
          barHref:"./black-friday.html?season=flash"
        }
      };

      const c = copy[season];
      const $badge = document.getElementById('season-badge');
      const $title = document.getElementById('season-title');
      const $desc  = document.getElementById('season-desc');
      const $link  = document.getElementById('season-link');
      const $bar   = document.getElementById('seasonBar');
      if($badge) $badge.textContent = c.badge;
      if($title) $title.textContent = c.title;
      if($desc)  $desc.textContent  = c.desc;
      if($link){ $link.textContent = c.btn; $link.href = c.href; $link.setAttribute('aria-label', c.btn); }
      if($bar){
        const textEl = $bar.querySelector('.seasonbar__text');
        if(textEl) textEl.innerHTML = c.bar;
        $bar.href = c.barHref;
      }
    })();

    /* (1) Soft parallax glow su HERO: aggiorna var --hx */
    (function(){
      const hero = document.querySelector('.hero');
      if(!hero) return;
      const mq = window.matchMedia('(pointer:fine)');
      function move(e){
        const r = hero.getBoundingClientRect();
        const x = Math.max(0, Math.min(1, (e.clientX - r.left)/r.width));
        hero.style.setProperty('--hx', (x*100)+'%');
      }
      if(mq.matches){
        window.addEventListener('mousemove', move, {passive:true});
      }
    })();

    /* (5) Card 3D PRO: tilt in base al cursore */
    (function(){
      const fine = window.matchMedia('(pointer:fine)').matches;
      if(!fine) return;
      const MAX = 6; // gradi
      document.querySelectorAll('.card').forEach(card=>{
        let raf = null;
        function onMove(e){
          const r = card.getBoundingClientRect();
          const px = (e.clientX - r.left)/r.width;
          const py = (e.clientY - r.top)/r.height;
          const ry = (px - 0.5) * (MAX*2);
          const rx = -(py - 0.5) * (MAX*2);
          cancelAnimationFrame(raf);
          raf = requestAnimationFrame(()=>{
            card.style.setProperty('--rx', rx.toFixed(2)+'deg');
            card.style.setProperty('--ry', ry.toFixed(2)+'deg');
          });
          card.classList.add('_hover');
        }
        function onLeave(){
          card.classList.remove('_hover');
          card.style.setProperty('--rx','0deg');
          card.style.setProperty('--ry','0deg');
          card.style.setProperty('--tz','0px');
        }
        card.addEventListener('mousemove', onMove);
        card.addEventListener('mouseleave', onLeave);
      });
    })();

    /* (4) Pulse mobile visivo al tap sui bottoni (senza haptic) */
    (function(){
      const isTouch = window.matchMedia('(pointer:coarse)').matches;
      if(!isTouch) return;
      const cls = 'tapPulse';
      const style = document.createElement('style');
      style.textContent = `
        .${cls}{ transform:scale(.985); filter:brightness(1.02); }
      `;
      document.head.appendChild(style);
      function pulse(el){
        el.classList.add(cls);
        setTimeout(()=>el.classList.remove(cls), 120);
      }
      document.addEventListener('pointerdown', (e)=>{
        const btn = e.target.closest('.btn, .fab-btn');
        if(btn) pulse(btn);
      }, {passive:true});
    })();

    /* (12) Confetti PRO su click WhatsApp */
    (function(){
      const COLORS = ['#ff0000','#ff7b00','#ffd166','#ffffff','#a78bfa','#22c55e'];
      function burst(x,y){
        const N = 22;
        for(let i=0;i<N;i++){
          const el = document.createElement('div');
          el.className = 'confetti-piece';
          el.style.left = x+'px';
          el.style.top  = y+'px';
          el.style.background = COLORS[(Math.random()*COLORS.length)|0];
          el.style.transform = `translate(0,0) rotate(${Math.random()*360}deg)`;
          document.body.appendChild(el);

          const ang = (Math.random()*Math.PI*2);
          const spd = (6 + Math.random()*11);
          const dx  = Math.cos(ang)*spd*14;
          const dy  = Math.sin(ang)*spd*12;

          requestAnimationFrame(()=>{
            el.style.transition = 'transform .9s cubic-bezier(.15,.7,.2,1), opacity 1s ease';
            el.style.transform = `translate(${dx}px, ${dy-50}px) rotate(${Math.random()*720-360}deg)`;
            el.style.opacity = '0';
          });
          setTimeout(()=>{ el.remove(); }, 1000);
        }
      }
      const style = document.createElement('style');
      style.textContent = `
        .confetti-piece{
          position: fixed; width:8px; height:8px; border-radius:2px; pointer-events:none;
          will-change: transform, opacity; z-index:9999;
        }
      `;
      document.head.appendChild(style);

      const SEL = 'a.btn.wa, .fab-nav a[href^="https://wa.me"], .fab-nav a[href^="https://api.whatsapp.com"]';
      document.querySelectorAll(SEL).forEach(a=>{
        a.addEventListener('click', ()=>{
          try{
            const r = a.getBoundingClientRect();
            burst(r.left + r.width/2, r.top + r.height/2);
          }catch(_){}
        }, {passive:true});
      });
    })();
  </script>

  <!-- Barra in basso stagionale -->
  <a id="seasonBar" class="seasonbar" href="./black-friday.html" aria-label="Vai alle Offerte Black Friday ReLong">
    <span class="seasonbar__icon">‚ö°</span>
    <span class="seasonbar__text"><b>Offerte Black Friday ReLong</b> ‚Äî sconti a tempo limitato</span>
    <span class="seasonbar__cta">Scopri ora</span>
  </a>
  <style>body{ padding-bottom: clamp(56px, 7vh, 72px); }</style>

  <!-- FAB -->
  <div class="fab-nav" aria-label="Azioni rapide">
    <a class="fab-btn" href="https://maps.app.goo.gl/dwpNWoUwFQD4NppU6" target="_blank" rel="noopener" aria-label="Portami allo Store">
      <svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 2a7 7 0 00-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 00-7-7zm0 9.5A2.5 2.5 0 1112 6.5a2.5 2.5 0 010 5z"/></svg>
      <span>Portami allo Store</span>
    </a>
    <a class="fab-btn" href="tel:+3908119578844" aria-label="Chiama il negozio">
      <svg fill="currentColor" viewBox="0 0 24 24"><path d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V21a1 1 0 01-1 1C10.4 22 2 13.6 2 3a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.46.57 3.58a1 1 0 01-.24 1.01l-2.2 2.2z"/></svg>
      <span>Chiamaci</span>
    </a>
  </div>

  <!-- Attiva offset quando la barra √® presente -->
  <script>
    (function(){
      const bar = document.getElementById('seasonBar');
      if(!bar) return;
      document.body.classList.add('has-seasonbar');
      const obs = new IntersectionObserver((entries)=>{
        const show = entries[0].isIntersecting;
        document.body.classList.toggle('has-seasonbar', show);
      }, {threshold: 0});
      obs.observe(bar);
    })();
  </script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Re Long Informatica",
    "image": "https://alessandroiascone.github.io/relong-nfc/og-cover.jpg",
    "url": "https://alessandroiascone.github.io/relong-nfc/relong-hub-v2.html",
    "telephone": "+39 08119578844",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Via Casalanno 31",
      "addressLocality": "Marano di Napoli",
      "postalCode": "80016",
      "addressCountry": "IT"
    },
    "sameAs": ["https://maps.app.goo.gl/dwpNWoUwFQD4NppU6"]
  }
  </script>

  <!-- Noscript -->
  <noscript><style>#rl-loader{display:none!important}</style></noscript>
</body>
</html>

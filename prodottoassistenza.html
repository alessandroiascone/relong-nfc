<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Re Long | Assistenza Tecnica</title>
  <meta name="theme-color" content="#0a0a0a" />
  <style>
    *{box-sizing:border-box;margin:0;padding:0;-webkit-font-smoothing:antialiased}
    :root{
      --bg1:#0a0a0a;--bg2:#000;--card:rgba(20,20,20,.94);--stroke:rgba(255,255,255,.08);
      --muted:rgba(255,255,255,.7);--muted2:rgba(255,255,255,.45);
      --brand1:#ff0000;--brand2:#ff7b00;--wa1:#25D366;--wa2:#128C7E;
      --glow:rgba(0,140,255,.15)
    }

    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Inter",Roboto,sans-serif;
      background:radial-gradient(circle at 20% 20%,var(--bg1) 0%,var(--bg2) 70%);
      color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px
    }

    .card{
      width:100%;max-width:640px;background:linear-gradient(150deg,var(--card) 0%,rgba(0,0,0,.6) 100%);
      border-radius:20px;padding:20px 18px 18px;position:relative;border:1px solid var(--stroke);
      box-shadow:0 30px 60px rgba(0,0,0,.9),0 0 60px var(--glow)
    }

    .badge{
      position:absolute;top:-12px;left:16px;background:linear-gradient(90deg,var(--brand1),var(--brand2));
      color:#000;font-size:11px;font-weight:800;padding:6px 10px;border-radius:999px;
      box-shadow:0 12px 22px rgba(255,80,0,.45);letter-spacing:-.02em;text-transform:uppercase
    }

    .brand{text-align:center;margin-bottom:10px}
    .brand-title{font-size:22px;font-weight:800;letter-spacing:-.04em}
    .brand-sub{font-size:11px;color:rgba(255,255,255,.6);margin-top:4px}

    .headline{text-align:center;margin:8px 0 10px}
    .headline h1{font-size:23px;line-height:1.15;font-weight:900;letter-spacing:-.04em}
    .accent{background:linear-gradient(90deg,var(--brand1),var(--brand2));-webkit-background-clip:text;color:transparent}
    .subtitle{color:var(--muted);font-size:13px;line-height:1.4;margin-top:8px}

    /* Nome & Consenso */
    .idbox{display:grid;grid-template-columns:1fr;gap:8px;margin:12px 0 10px}
    .field{
      display:flex;align-items:center;gap:8px;background:linear-gradient(180deg,#0e0e0e,#0a0a0a);
      border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px 12px;
      box-shadow:inset 0 1px 0 rgba(255,255,255,.06),0 8px 24px rgba(0,0,0,.4)
    }
    .field input{flex:1;background:transparent;border:0;outline:none;color:#fff;font-weight:800;font-size:14px}
    .hint{font-size:11px;color:var(--muted);text-align:center;margin-top:-2px}

    .consent{
      display:flex;align-items:center;gap:10px;font-size:13px;color:#e8f1ff;
      background:linear-gradient(180deg, rgba(0,120,255,.22), rgba(0,80,220,.18));
      border:1px solid rgba(0,150,255,.75);border-radius:12px;padding:10px 12px;
      box-shadow:0 0 0 2px rgba(0,150,255,.15) inset, 0 10px 26px rgba(0,120,255,.25)
    }
    .consent input{width:18px;height:18px;accent-color:#0af;filter:drop-shadow(0 0 6px rgba(0,160,255,.9))}
    .consent small{opacity:.95;font-weight:800}

    /* Box scelte */
    .box{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);
      border-radius:16px;padding:14px;margin:10px 0}
    .box-title{font-size:13px;font-weight:900;display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    .tag{font-size:10px;font-weight:800;background:rgba(0,140,255,.12);color:#59b5ff;padding:4px 8px;border-radius:999px;border:1px solid rgba(0,160,255,.4)}

    /* Scelte (tasti) */
    .tiles{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:10px}
    @media (max-width:520px){.tiles{grid-template-columns:repeat(2,minmax(140px,1fr))}}
    .tile{
      position:relative;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.12);
      border-radius:16px;padding:14px 12px;cursor:pointer;isolation:isolate;overflow:hidden;
      transition:transform .22s ease, box-shadow .22s ease, border-color .22s ease, background .22s ease
    }
    .tile:before{
      content:"";position:absolute;inset:-1px;border-radius:16px;
      background:radial-gradient(120px 60px at 0% 0%,rgba(0,140,255,.08),transparent 60%),
                 radial-gradient(120px 60px at 100% 100%,rgba(0,60,160,.06),transparent 60%);
      opacity:.55;pointer-events:none;transition:.22s ease
    }
    .tile:hover{transform:translateY(-2px);box-shadow:0 12px 28px rgba(0,0,0,.45)}
    .tile.active{border-color:rgba(0,160,255,.8);box-shadow:0 10px 36px rgba(0,160,255,.25);background:rgba(0,140,255,.06)}
    .ico{width:44px;height:44px;margin:0 auto 8px}
    .tile span{display:block;font-size:13.5px;font-weight:900;color:#fff;text-align:center}

    /* Banner dinamico */
    .choice-banner{display:none;margin-top:12px;border-radius:14px;padding:12px;
      background:linear-gradient(90deg,rgba(0,140,255,.12),rgba(0,60,160,.12));border:1px solid rgba(0,140,255,.35)}
    .choice-banner.show{display:block;animation:pop .18s ease-out}
    @keyframes pop{from{transform:scale(.98);opacity:.6}to{transform:scale(1);opacity:1}}
    .banner-title{font-size:13px;font-weight:800}
    .banner-sub{font-size:12px;color:var(--muted);margin-top:4px}

    .cta-inline{
      margin-top:10px;display:block;width:100%;text-align:center;font-size:15px;font-weight:900;
      background:radial-gradient(circle at 0% 0%,var(--wa1) 0%,var(--wa2) 60%);color:#fff;text-decoration:none;
      padding:12px 14px;border-radius:12px;border:0;letter-spacing:-.02em;
      box-shadow:0 16px 28px rgba(18,140,126,.45),0 2px 4px rgba(0,0,0,.6) inset
    }
    .cta-hint{margin-top:6px;text-align:center;font-size:11px;line-height:1.3;color:rgba(255,255,255,.65)}

    .shake{animation:shake .35s ease}
    @keyframes shake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}}

    svg{width:100%;height:100%}
  </style>
</head>
<body>
  <div class="card">
    <div class="badge">ASSISTENZA TECNICA</div>

    <div class="brand">
      <div class="brand-title">Canale Assistenza Re&nbsp;Long</div>
      <div class="brand-sub">Telefonia • Energia • Assistenza PC</div>
    </div>

    <div class="headline">
      <h1><span class="accent">Richiesta aggiornamenti</span> pratica</h1>
      <p class="subtitle">Inserisci <b>Nome e Cognome</b>, poi scegli cosa hai lasciato in assistenza. Si apre WhatsApp con il messaggio pronto.</p>
    </div>

    <!-- Nome & Consenso -->
    <div class="idbox">
      <label class="field" aria-label="Nome e Cognome">
        <svg class="ico" style="width:20px;height:20px;opacity:.9" viewBox="0 0 24 24" aria-hidden="true">
          <path fill="#bdbdbd" d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5m0 2c-4.42 0-8 2.24-8 5v1h16v-1c0-2.76-3.58-5-8-5Z"/>
        </svg>
        <input id="fullname" type="text" inputmode="text" autocomplete="name" placeholder="Nome e Cognome" maxlength="60" />
      </label>
      <div class="consent" title="Consenso privacy via WhatsApp">
        <input type="checkbox" checked disabled aria-checked="true" aria-label="Consenso privacy" />
        <small>Consenso privacy WhatsApp (obbligatorio)</small>
      </div>
      <div class="hint">⚠️ Senza Nome e Cognome non è possibile inviare la richiesta.</div>
    </div>

    <!-- Scelte -->
    <div class="box">
      <div class="box-title">
        <span>Scegli il dispositivo lasciato in assistenza</span>
        <span class="tag">Seleziona e invia</span>
      </div>

      <div class="tiles" id="tiles">
        <button class="tile" data-type="Computer in Riparazione">
          <div class="ico">
            <svg viewBox="0 0 64 64" aria-hidden="true">
              <defs><linearGradient id="metal" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#e0e0e0"/><stop offset=".5" stop-color="#7a7a7a"/><stop offset="1" stop-color="#bdbdbd"/></linearGradient></defs>
              <rect x="6" y="10" width="52" height="34" rx="4" fill="url(#metal)"/><rect x="10" y="14" width="44" height="26" rx="2" fill="#0a0a0a"/>
            </svg>
          </div>
          <span>Computer in Riparazione</span>
        </button>

        <button class="tile" data-type="Notebook in Riparazione">
          <div class="ico">
            <svg viewBox="0 0 64 64" aria-hidden="true">
              <defs><linearGradient id="metal2" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#e0e0e0"/><stop offset=".5" stop-color="#7a7a7a"/><stop offset="1" stop-color="#bdbdbd"/></linearGradient></defs>
              <rect x="12" y="12" width="40" height="26" rx="3" fill="url(#metal2)"/><rect x="16" y="16" width="32" height="18" rx="2" fill="#0a0a0a"/>
            </svg>
          </div>
          <span>Notebook in Riparazione</span>
        </button>

        <button class="tile" data-type="Smartphone in Riparazione">
          <div class="ico">
            <svg viewBox="0 0 64 64" aria-hidden="true">
              <defs><linearGradient id="metal3" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#e0e0e0"/><stop offset=".5" stop-color="#7a7a7a"/><stop offset="1" stop-color="#bdbdbd"/></linearGradient></defs>
              <rect x="22" y="6" width="20" height="52" rx="5" fill="url(#metal3)"/><rect x="24" y="12" width="16" height="36" rx="2" fill="#0a0a0a"/>
            </svg>
          </div>
          <span>Smartphone in Riparazione</span>
        </button>

        <button class="tile" data-type="Stampante in Riparazione">
          <div class="ico">
            <svg viewBox="0 0 64 64" aria-hidden="true">
              <defs><linearGradient id="metal4" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#e0e0e0"/><stop offset=".5" stop-color="#7a7a7a"/><stop offset="1" stop-color="#bdbdbd"/></linearGradient></defs>
              <rect x="10" y="20" width="44" height="22" rx="3" fill="url(#metal4)"/><rect x="16" y="8" width="32" height="12" rx="2" fill="#bdbdbd"/>
            </svg>
          </div>
          <span>Stampante in Riparazione</span>
        </button>

        <button class="tile" data-type="Console & Accessori in Riparazione">
          <div class="ico">
            <svg viewBox="0 0 64 64" aria-hidden="true">
              <defs><linearGradient id="metal5" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#e0e0e0"/><stop offset=".5" stop-color="#7a7a7a"/><stop offset="1" stop-color="#bdbdbd"/></linearGradient></defs>
              <rect x="10" y="26" width="44" height="12" rx="6" fill="url(#metal5)"/>
              <circle cx="22" cy="32" r="3" fill="#0a0a0a"/>
              <rect x="20" y="30" width="4" height="8" rx="1" fill="#0a0a0a"/>
              <rect x="18" y="32" width="8" height="4" rx="1" fill="#0a0a0a"/>
              <circle cx="42" cy="31" r="2" fill="#0a0a0a"/>
              <circle cx="46" cy="31" r="2" fill="#0a0a0a"/>
              <circle cx="42" cy="35" r="2" fill="#0a0a0a"/>
              <circle cx="46" cy="35" r="2" fill="#0a0a0a"/>
            </svg>
          </div>
          <span>Console & Accessori in Riparazione</span>
        </button>

        <button class="tile" data-type="Richiesta Preventivo">
          <div class="ico">
            <svg viewBox="0 0 64 64" aria-hidden="true">
              <defs><linearGradient id="metal6" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#e0e0e0"/><stop offset=".5" stop-color="#7a7a7a"/><stop offset="1" stop-color="#bdbdbd"/></linearGradient></defs>
              <path d="M16 10h32v44l-4-3-4 3-4-3-4 3-4-3-4 3-4-3-4 3z" fill="url(#metal6)"/>
              <rect x="22" y="18" width="20" height="4" rx="1" fill="#0a0a0a"/>
              <rect x="22" y="26" width="20" height="4" rx="1" fill="#0a0a0a"/>
              <rect x="22" y="34" width="14" height="4" rx="1" fill="#0a0a0a"/>
            </svg>
          </div>
          <span>Richiesta Preventivo</span>
        </button>
      </div>

      <!-- Banner dinamico -->
      <div id="choiceBanner" class="choice-banner" role="region" aria-live="polite">
        <div class="banner-title">✅ Selezione attiva: <span id="choiceText">—</span></div>
        <div class="banner-sub">Tocca il bottone per inviare il messaggio su WhatsApp. Se non hai ancora inserito il nome, compilalo prima.</div>
        <a id="whatsAppCTA" class="cta-inline" href="#" target="_blank" rel="noopener noreferrer">Invia richiesta su WhatsApp</a>
        <div class="cta-hint">Risposta diretta • 08119578844</div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const tiles = document.querySelectorAll('.tile');
      const banner = document.getElementById('choiceBanner');
      const choiceText = document.getElementById('choiceText');
      const waCTA = document.getElementById('whatsAppCTA');
      const fullname = document.getElementById('fullname');

      const WA_NUMBER = '3908119578844'; // +39 08119578844

      function titleCase(s){
        return s.trim().toLowerCase().replace(/\s+/g,' ')
          .replace(/\b([\p{L}'])[ \p{L}]*/gu, t => t.charAt(0).toUpperCase() + t.slice(1));
      }
      function ensureName(){
        const raw = fullname.value || '';
        const nice = titleCase(raw);
        fullname.value = nice;
        if(!nice || nice.length < 3){
          fullname.classList.remove('shake'); void fullname.offsetWidth; fullname.classList.add('shake');
          fullname.focus();
          return null;
        }
        return nice;
      }
      function waLink(text){ return `https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(text)}`; }

      function buildMessage(name, type){
        if(/Preventivo/i.test(type)){
          return `Ciao, sono ${name}. Vorrei un preventivo personalizzato. Grazie.`;
        }
        const prodotto = type.replace(/\s*in\s*Riparazione/i, "");
        return `Ciao, sono ${name}. Ho lasciato il mio ${prodotto} in Assistenza, attendo vostri aggiornamenti. Grazie.`;
      }

      function updateBanner(type){
        choiceText.textContent = type;
        const name = ensureName();
        if(!name){
          // senza nome niente link valido
          waCTA.href = '#';
          waCTA.addEventListener('click', blockOnce, {once:true});
          return;
        }
        const msg = buildMessage(name, type);
        waCTA.href = waLink(msg);
      }

      function blockOnce(e){
        e.preventDefault();
        ensureName();
      }

      // click su tasto: evidenzia, aggiorna banner, e se nome presente invia subito
      tiles.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          tiles.forEach(t=>t.classList.remove('active'));
          btn.classList.add('active');

          const type = btn.dataset.type;
          updateBanner(type);
          banner.classList.add('show');

          const name = ensureName();
          if(name){
            const msg = buildMessage(name, type);
            window.open(waLink(msg), '_blank', 'noopener');
          }
        }, {passive:true});
      });

      // click sulla CTA del banner: se manca nome blocca
      waCTA.addEventListener('click', function(e){
        if(!ensureName()){
          e.preventDefault();
        }
      });
    })();
  </script>
</body>
</html>
